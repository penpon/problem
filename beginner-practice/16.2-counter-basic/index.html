<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ステップ16.2 - カウンター基礎</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            max-width: 900px;
            margin: 40px auto;
            padding: 20px;
            line-height: 1.6;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
        }
        
        .container {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            color: #FFE135;
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .step-info {
            text-align: center;
            margin-bottom: 30px;
            opacity: 0.9;
        }
        
        .counter-section {
            background: rgba(255, 255, 255, 0.15);
            padding: 40px;
            border-radius: 20px;
            margin: 25px 0;
            text-align: center;
            border: 2px solid rgba(255, 255, 255, 0.2);
        }
        
        .counter-display {
            font-size: 4rem;
            font-weight: bold;
            color: #FFE135;
            margin: 30px 0;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            background: rgba(0, 0, 0, 0.2);
            padding: 20px;
            border-radius: 15px;
            border: 3px solid rgba(255, 255, 255, 0.3);
        }
        
        .counter-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 30px 0;
            flex-wrap: wrap;
        }
        
        .counter-btn {
            background: linear-gradient(135deg, #ff6b6b 0%, #4ecdc4 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.5rem;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            font-weight: bold;
            min-width: 120px;
        }
        
        .counter-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }
        
        .counter-btn:active {
            transform: translateY(0);
        }
        
        .counter-btn.plus {
            background: linear-gradient(135deg, #56ab2f 0%, #a8e6cf 100%);
        }
        
        .counter-btn.minus {
            background: linear-gradient(135deg, #ff416c 0%, #ff4b2b 100%);
        }
        
        .counter-btn.reset {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .info-box {
            background: rgba(255, 255, 255, 0.15);
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
            border-left: 5px solid #FFE135;
        }
        
        .highlight {
            color: #FFE135;
            font-weight: bold;
        }
        
        .code-example {
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 8px;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            margin: 15px 0;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .instruction {
            background: rgba(255, 193, 7, 0.2);
            padding: 20px;
            border-radius: 10px;
            border: 2px solid #FFE135;
            margin: 20px 0;
        }
        
        .celebration {
            font-size: 3rem;
            text-align: center;
            margin: 20px 0;
        }
        
        .stats-section {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin: 15px 0;
        }
        
        .stat-item {
            background: rgba(0, 0, 0, 0.2);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }
        
        .stat-number {
            font-size: 1.8rem;
            font-weight: bold;
            color: #FFE135;
        }
        
        .counter-status {
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            text-align: center;
            font-weight: bold;
        }
        
        .status-positive {
            background: linear-gradient(135deg, #56ab2f, #a8e6cf);
        }
        
        .status-negative {
            background: linear-gradient(135deg, #ff416c, #ff4b2b);
        }
        
        .status-zero {
            background: linear-gradient(135deg, #667eea, #764ba2);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>🔢 カウンター基礎</h1>
        <div class="step-info">
            <strong>ステップ16.2 - 数値の増減をマスターする</strong>
        </div>
        
        <div class="celebration">➕ 🔢 ➖</div>
        
        <div class="info-box">
            <h3>📚 このステップで学ぶこと</h3>
            <ul>
                <li><strong>数値変数</strong>をボタンで増減させる方法</li>
                <li><strong>DOM要素</strong>に数値を動的に表示する方法</li>
                <li>ユーザーの操作で<strong>データの状態</strong>を変更する基礎</li>
            </ul>
        </div>
        
        <div class="counter-section">
            <h3>🎪 インタラクティブカウンター</h3>
            <p>ボタンをクリックして数値を変更してみましょう！</p>
            
            <div class="counter-display" id="counter-display">0</div>
            
            <div class="counter-buttons">
                <button class="counter-btn minus" id="minus-btn">➖ -1</button>
                <button class="counter-btn reset" id="reset-btn">🔄 リセット</button>
                <button class="counter-btn plus" id="plus-btn">➕ +1</button>
            </div>
            
            <div class="counter-status" id="counter-status">カウンター開始！数値を変更してみてください。</div>
        </div>
        
        <div class="stats-section">
            <h4>📊 カウンター統計</h4>
            <div class="stats-grid">
                <div class="stat-item">
                    <div>プラス回数</div>
                    <div class="stat-number" id="plus-count">0</div>
                </div>
                <div class="stat-item">
                    <div>マイナス回数</div>
                    <div class="stat-number" id="minus-count">0</div>
                </div>
                <div class="stat-item">
                    <div>リセット回数</div>
                    <div class="stat-number" id="reset-count">0</div>
                </div>
                <div class="stat-item">
                    <div>合計操作数</div>
                    <div class="stat-number" id="total-operations">0</div>
                </div>
                <div class="stat-item">
                    <div>最高値</div>
                    <div class="stat-number" id="max-value">0</div>
                </div>
                <div class="stat-item">
                    <div>最低値</div>
                    <div class="stat-number" id="min-value">0</div>
                </div>
            </div>
        </div>
        
        <div class="info-box">
            <h3>🎯 カウンターの仕組み</h3>
            <p>カウンターは<strong>変数</strong>を使って数値を記憶し、ボタンクリックで変数を変更します：</p>
            
            <div class="code-example">
// カウンター変数を宣言
let counter = 0;

// プラスボタンの処理
document.getElementById("plus-btn").addEventListener("click", function() {
    counter = counter + 1;  // または counter++
    document.getElementById("counter-display").textContent = counter;
});

// マイナスボタンの処理
document.getElementById("minus-btn").addEventListener("click", function() {
    counter = counter - 1;  // または counter--
    document.getElementById("counter-display").textContent = counter;
});
            </div>
        </div>
        
        <div class="info-box">
            <h3>🔍 実装されている機能</h3>
            <ul>
                <li><strong>➕ボタン</strong>: 数値を1増加させる</li>
                <li><strong>➖ボタン</strong>: 数値を1減少させる</li>
                <li><strong>🔄リセットボタン</strong>: 数値を0に戻す</li>
                <li><strong>状態表示</strong>: 数値が正・負・ゼロで表示を変更</li>
                <li><strong>統計機能</strong>: 操作回数、最高値・最低値を記録</li>
            </ul>
        </div>
        
        <div class="instruction">
            <h3>🚀 カウンターを操作してみよう！</h3>
            <p>すべてのボタンを使って、数値がどのように変化するか確認してください。</p>
            <p><strong>F12</strong>（MacはCmd+Option+I）で開発者ツールを開き、<strong>Console</strong>タブで操作ログも確認できます！</p>
        </div>
    </div>
    
    <script>
        console.log("🔢 ステップ16.2: カウンター基礎を開始します！");
        console.log("=====================================");
        
        // カウンター本体
        let counter = 0;
        
        // 統計用変数
        let plusCount = 0;
        let minusCount = 0;
        let resetCount = 0;
        let maxValue = 0;
        let minValue = 0;
        
        // DOM要素の取得
        let counterDisplay = document.getElementById("counter-display");
        let counterStatus = document.getElementById("counter-status");
        
        // カウンター表示を更新する関数
        function updateDisplay() {
            counterDisplay.textContent = counter;
            updateStatus();
            updateStats();
            
            console.log("📊 現在のカウンター値: " + counter);
        }
        
        // 状態メッセージを更新する関数
        function updateStatus() {
            counterStatus.className = "counter-status";
            
            if (counter > 0) {
                counterStatus.textContent = `✨ プラス${counter}！ 順調に増加中です！`;
                counterStatus.classList.add("status-positive");
            } else if (counter < 0) {
                counterStatus.textContent = `⚡ マイナス${Math.abs(counter)}。負の数値も大切な学習です！`;
                counterStatus.classList.add("status-negative");
            } else {
                counterStatus.textContent = "🎯 ゼロに戻りました。新たなスタートです！";
                counterStatus.classList.add("status-zero");
            }
        }
        
        // 統計を更新する関数
        function updateStats() {
            let totalOperations = plusCount + minusCount + resetCount;
            
            // 最高値・最低値の更新
            if (counter > maxValue) maxValue = counter;
            if (counter < minValue) minValue = counter;
            
            // 画面に統計を表示
            document.getElementById("plus-count").textContent = plusCount;
            document.getElementById("minus-count").textContent = minusCount;
            document.getElementById("reset-count").textContent = resetCount;
            document.getElementById("total-operations").textContent = totalOperations;
            document.getElementById("max-value").textContent = maxValue;
            document.getElementById("min-value").textContent = minValue;
        }
        
        // プラスボタン
        document.getElementById("plus-btn").addEventListener("click", function() {
            console.log("➕ プラスボタンがクリックされました");
            counter = counter + 1;  // counter++ でも同じ
            plusCount++;
            updateDisplay();
        });
        
        // マイナスボタン
        document.getElementById("minus-btn").addEventListener("click", function() {
            console.log("➖ マイナスボタンがクリックされました");
            counter = counter - 1;  // counter-- でも同じ
            minusCount++;
            updateDisplay();
        });
        
        // リセットボタン
        document.getElementById("reset-btn").addEventListener("click", function() {
            console.log("🔄 リセットボタンがクリックされました");
            counter = 0;
            resetCount++;
            updateDisplay();
        });
        
        // 初期表示を設定
        updateDisplay();
        
        console.log("✅ カウンターシステムが初期化されました！");
        console.log("💡 プラス、マイナス、リセットボタンをクリックして操作してください！");
    </script>
</body>
</html>