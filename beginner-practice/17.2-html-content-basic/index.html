<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ステップ17.2 - HTML内容変更入門</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            max-width: 1100px;
            margin: 40px auto;
            padding: 20px;
            line-height: 1.6;
            background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            color: #2c3e50;
            min-height: 100vh;
        }
        
        .container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            color: #e74c3c;
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .step-info {
            text-align: center;
            margin-bottom: 30px;
            opacity: 0.8;
            color: #7f8c8d;
        }
        
        .demo-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 20px;
            margin: 25px 0;
        }
        
        .content-display {
            background: rgba(255, 255, 255, 0.9);
            color: #2c3e50;
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
            min-height: 120px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            transition: all 0.3s ease;
        }
        
        .content-display h3 {
            color: #3498db;
            margin-top: 0;
        }
        
        .content-display ul {
            padding-left: 20px;
        }
        
        .content-display .highlight-text {
            background: linear-gradient(135deg, #ff6b6b, #4ecdc4);
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-weight: bold;
        }
        
        .content-display .info-box {
            background: #f8f9fa;
            border-left: 4px solid #3498db;
            padding: 15px;
            margin: 10px 0;
            border-radius: 5px;
        }
        
        .button-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 25px 0;
        }
        
        .html-btn {
            background: linear-gradient(135deg, #ff6b6b 0%, #4ecdc4 100%);
            color: white;
            border: none;
            padding: 15px 20px;
            font-size: 1rem;
            border-radius: 12px;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            font-weight: bold;
        }
        
        .html-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }
        
        .html-btn:active {
            transform: translateY(0);
        }
        
        .btn-heading { background: linear-gradient(135deg, #56ab2f, #a8e6cf); }
        .btn-list { background: linear-gradient(135deg, #667eea, #764ba2); }
        .btn-card { background: linear-gradient(135deg, #fa709a, #fee140); }
        .btn-table { background: linear-gradient(135deg, #ff9a9e, #fecfef); }
        .btn-form { background: linear-gradient(135deg, #a8edea, #fed6e3); }
        .btn-clear { background: linear-gradient(135deg, #6c757d, #495057); }
        
        .info-box {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
            border-left: 5px solid #3498db;
        }
        
        .highlight {
            color: #e74c3c;
            font-weight: bold;
        }
        
        .code-example {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            margin: 15px 0;
            border: 1px solid #34495e;
        }
        
        .instruction {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        
        .celebration {
            font-size: 3rem;
            text-align: center;
            margin: 20px 0;
        }
        
        .comparison-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        
        .comparison-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
            border: 2px solid #dee2e6;
        }
        
        .comparison-card.textcontent {
            border-color: #28a745;
        }
        
        .comparison-card.innerhtml {
            border-color: #dc3545;
        }
        
        .comparison-card h4 {
            margin-top: 0;
            color: #495057;
        }
        
        .warning-box {
            background: linear-gradient(135deg, #ff7675 0%, #fd79a8 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            border: 2px solid #e17055;
        }
        
        .warning-box h4 {
            margin-top: 0;
        }
        
        .stats-section {
            background: rgba(52, 73, 94, 0.1);
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin: 15px 0;
        }
        
        .stat-item {
            background: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            border: 2px solid #3498db;
        }
        
        .stat-number {
            font-size: 1.8rem;
            font-weight: bold;
            color: #3498db;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>🏗️ HTML内容変更入門</h1>
        <div class="step-info">
            <strong>ステップ17.2 - inneHTMLを使った構造的コンテンツ操作</strong>
        </div>
        
        <div class="celebration">🏗️ 📄 ✨</div>
        
        <div class="info-box">
            <h3>📚 このステップで学ぶこと</h3>
            <ul>
                <li><strong>innerHTML</strong>プロパティの基本的な使用方法</li>
                <li><strong>HTMLタグ</strong>を含むコンテンツの動的生成</li>
                <li><strong>textContent</strong>との違いと使い分け</li>
                <li>安全な<strong>HTML操作</strong>の基本原則</li>
            </ul>
        </div>
        
        <div class="demo-section">
            <h3>🎪 動的HTML生成デモ</h3>
            <p>ボタンをクリックして、異なる種類のHTMLコンテンツを動的に生成してみましょう！</p>
            
            <div class="content-display" id="content-display">
                <h3>🌟 HTMLコンテンツ表示エリア</h3>
                <p>ここに動的に生成されたHTMLコンテンツが表示されます。下のボタンをクリックして、様々なHTML要素を試してみてください！</p>
            </div>
            
            <div class="button-grid">
                <button class="html-btn btn-heading" id="heading-btn">
                    📝 見出しとテキスト
                </button>
                
                <button class="html-btn btn-list" id="list-btn">
                    📋 リスト構造
                </button>
                
                <button class="html-btn btn-card" id="card-btn">
                    🎴 情報カード
                </button>
                
                <button class="html-btn btn-table" id="table-btn">
                    📊 テーブル表示
                </button>
                
                <button class="html-btn btn-form" id="form-btn">
                    📝 フォーム要素
                </button>
                
                <button class="html-btn btn-clear" id="clear-btn">
                    🧹 クリア
                </button>
            </div>
        </div>
        
        <div class="comparison-section">
            <div class="comparison-card textcontent">
                <h4>textContent（前回学習）</h4>
                <div class="code-example">
element.textContent = "&lt;h3&gt;見出し&lt;/h3&gt;";
// 結果: &lt;h3&gt;見出し&lt;/h3&gt; と表示
                </div>
                <p>✅ HTMLタグを文字列として表示<br>✅ セキュリティが高い<br>✅ テキストのみの変更に最適</p>
            </div>
            
            <div class="comparison-card innerhtml">
                <h4>innerHTML（今回学習）</h4>
                <div class="code-example">
element.innerHTML = "&lt;h3&gt;見出し&lt;/h3&gt;";
// 結果: 見出し として表示（HTMLとして解釈）
                </div>
                <p>⚠️ HTMLタグを解釈して実行<br>⚠️ 慎重な使用が必要<br>✅ 構造的なコンテンツ作成に有効</p>
            </div>
        </div>
        
        <div class="warning-box">
            <h4>⚠️ innerHTML使用時の注意事項</h4>
            <ul>
                <li><strong>ユーザー入力は絶対に使用しない</strong> - XSS攻撃のリスク</li>
                <li><strong>信頼できるコンテンツのみ</strong> - 自分で作成したHTMLのみ</li>
                <li><strong>スクリプトタグは避ける</strong> - セキュリティリスクを最小化</li>
                <li><strong>代替案を検討</strong> - textContentで十分な場合はそちらを使用</li>
            </ul>
        </div>
        
        <div class="stats-section">
            <h4>📊 HTML生成統計</h4>
            <div class="stats-grid">
                <div class="stat-item">
                    <div>総生成回数</div>
                    <div class="stat-number" id="total-generations">0</div>
                </div>
                <div class="stat-item">
                    <div>見出し生成</div>
                    <div class="stat-number" id="heading-count">0</div>
                </div>
                <div class="stat-item">
                    <div>リスト生成</div>
                    <div class="stat-number" id="list-count">0</div>
                </div>
                <div class="stat-item">
                    <div>カード生成</div>
                    <div class="stat-number" id="card-count">0</div>
                </div>
                <div class="stat-item">
                    <div>テーブル生成</div>
                    <div class="stat-number" id="table-count">0</div>
                </div>
                <div class="stat-item">
                    <div>フォーム生成</div>
                    <div class="stat-number" id="form-count">0</div>
                </div>
            </div>
        </div>
        
        <div class="info-box">
            <h3>🎯 inneHTMLとは？</h3>
            <p><strong>innerHTML</strong>は、HTML要素の中身をHTMLとして取得・設定するプロパティです。</p>
            
            <div class="code-example">
// 要素を取得
let element = document.getElementById("content-area");

// HTMLコンテンツを設定
element.innerHTML = `
    &lt;h3&gt;動的に生成された見出し&lt;/h3&gt;
    &lt;p&gt;これは&lt;strong&gt;innerHTML&lt;/strong&gt;で作成された段落です。&lt;/p&gt;
    &lt;ul&gt;
        &lt;li&gt;リスト項目1&lt;/li&gt;
        &lt;li&gt;リスト項目2&lt;/li&gt;
    &lt;/ul&gt;
`;
            </div>
        </div>
        
        <div class="instruction">
            <h3>🚀 すべてのHTML生成を試してみよう！</h3>
            <p>6つのボタンをすべてクリックして、異なる種類のHTMLコンテンツがどのように生成されるか確認してください。特に構造の違いや、装飾の違いに注目しましょう。</p>
            <p><strong>F12</strong>（MacはCmd+Option+I）で開発者ツールを開き、<strong>Elements</strong>タブでHTMLの構造変化も確認できます！</p>
        </div>
    </div>
    
    <script>
        console.log("🏗️ ステップ17.2: HTML内容変更入門を開始します！");
        console.log("==========================================");
        
        // 統計用変数
        let totalGenerations = 0;
        let generationCounts = {
            heading: 0,
            list: 0,
            card: 0,
            table: 0,
            form: 0
        };
        
        // DOM要素の取得
        let contentDisplay = document.getElementById("content-display");
        
        // HTML生成を処理する共通関数
        function generateHTML(htmlContent, generationType, buttonName) {
            // HTMLコンテンツを設定
            contentDisplay.innerHTML = htmlContent;
            
            // 統計を更新
            totalGenerations++;
            if (generationType && generationCounts.hasOwnProperty(generationType)) {
                generationCounts[generationType]++;
            }
            
            updateStats();
            
            // ログ出力
            console.log(`${buttonName}: HTMLコンテンツを生成しました`);
            console.log("生成されたHTML:");
            console.log(htmlContent);
            console.log(`総生成回数: ${totalGenerations}`);
        }
        
        // 統計表示を更新する関数
        function updateStats() {
            document.getElementById("total-generations").textContent = totalGenerations;
            document.getElementById("heading-count").textContent = generationCounts.heading;
            document.getElementById("list-count").textContent = generationCounts.list;
            document.getElementById("card-count").textContent = generationCounts.card;
            document.getElementById("table-count").textContent = generationCounts.table;
            document.getElementById("form-count").textContent = generationCounts.form;
        }
        
        // 見出しとテキストボタン
        document.getElementById("heading-btn").addEventListener("click", function() {
            let headingHTML = `
                <h3 style="color: #3498db; border-bottom: 2px solid #3498db; padding-bottom: 10px;">
                    📝 動的に生成された見出し
                </h3>
                <p style="font-size: 1.1rem; line-height: 1.8;">
                    これは<strong>innerHTML</strong>を使用して動的に生成されたコンテンツです。
                    HTMLタグが実際に解釈され、装飾が適用されていることがわかります。
                </p>
                <p style="background: #e8f4f8; padding: 15px; border-radius: 8px; border-left: 4px solid #3498db;">
                    💡 <strong>ポイント:</strong> HTMLタグが文字列ではなく、実際のHTML要素として表示されています。
                </p>
            `;
            generateHTML(headingHTML, "heading", "見出しボタン");
        });
        
        // リスト構造ボタン
        document.getElementById("list-btn").addEventListener("click", function() {
            let listHTML = `
                <h3 style="color: #8e44ad;">📋 学習の進捗チェックリスト</h3>
                <ul style="list-style-type: none; padding: 0;">
                    <li style="background: #d4edda; padding: 10px; margin: 5px 0; border-radius: 5px; border-left: 4px solid #28a745;">
                        ✅ JavaScript基本構文の理解
                    </li>
                    <li style="background: #d4edda; padding: 10px; margin: 5px 0; border-radius: 5px; border-left: 4px solid #28a745;">
                        ✅ DOM操作の基本
                    </li>
                    <li style="background: #fff3cd; padding: 10px; margin: 5px 0; border-radius: 5px; border-left: 4px solid #ffc107;">
                        🔄 HTML動的生成（学習中）
                    </li>
                    <li style="background: #f8d7da; padding: 10px; margin: 5px 0; border-radius: 5px; border-left: 4px solid #dc3545;">
                        ⏳ 高度な配列操作（未学習）
                    </li>
                </ul>
                <p style="font-style: italic; color: #6c757d;">各項目の色分けで進捗状況を視覚的に表現しています。</p>
            `;
            generateHTML(listHTML, "list", "リストボタン");
        });
        
        // 情報カードボタン
        document.getElementById("card-btn").addEventListener("click", function() {
            let cardHTML = `
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 25px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.2);">
                    <h3 style="margin-top: 0; color: #fff;">🎴 プロフィールカード</h3>
                    <div style="display: flex; align-items: center; gap: 20px; flex-wrap: wrap;">
                        <div style="background: rgba(255,255,255,0.2); width: 80px; height: 80px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 2rem;">
                            👨‍💻
                        </div>
                        <div style="flex: 1;">
                            <h4 style="margin: 0 0 10px 0;">未来のWeb開発者</h4>
                            <p style="margin: 5px 0;">📍 学習場所: プログラミングの世界</p>
                            <p style="margin: 5px 0;">💼 目標: フルスタック開発者</p>
                            <p style="margin: 5px 0;">🎯 現在のステップ: 17.2 HTML内容変更</p>
                        </div>
                    </div>
                    <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px; margin-top: 15px;">
                        <strong>📈 進捗状況:</strong> JavaScriptの基本をマスターし、DOM操作を学習中！
                    </div>
                </div>
            `;
            generateHTML(cardHTML, "card", "カードボタン");
        });
        
        // テーブル表示ボタン
        document.getElementById("table-btn").addEventListener("click", function() {
            let tableHTML = `
                <h3 style="color: #e67e22;">📊 学習統計テーブル</h3>
                <div style="overflow-x: auto;">
                    <table style="width: 100%; border-collapse: collapse; margin: 15px 0;">
                        <thead>
                            <tr style="background: #34495e; color: white;">
                                <th style="padding: 12px; border: 1px solid #ddd; text-align: left;">ステップ</th>
                                <th style="padding: 12px; border: 1px solid #ddd; text-align: left;">学習内容</th>
                                <th style="padding: 12px; border: 1px solid #ddd; text-align: center;">進捗</th>
                                <th style="padding: 12px; border: 1px solid #ddd; text-align: center;">難易度</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr style="background: #f8f9fa;">
                                <td style="padding: 10px; border: 1px solid #ddd;">15.1-15.5</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">JavaScript導入</td>
                                <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">✅ 完了</td>
                                <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">⭐⭐</td>
                            </tr>
                            <tr>
                                <td style="padding: 10px; border: 1px solid #ddd;">16.1-16.3</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">DOM操作</td>
                                <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">✅ 完了</td>
                                <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">⭐⭐⭐</td>
                            </tr>
                            <tr style="background: #fff3cd;">
                                <td style="padding: 10px; border: 1px solid #ddd;">17.1-17.4</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">動的コンテンツ</td>
                                <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">🔄 学習中</td>
                                <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">⭐⭐⭐</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <p style="font-size: 0.9rem; color: #6c757d; font-style: italic;">
                    このテーブルは動的に生成されており、実際のプロジェクトでは データベースから取得した情報を表示することができます。
                </p>
            `;
            generateHTML(tableHTML, "table", "テーブルボタン");
        });
        
        // フォーム要素ボタン
        document.getElementById("form-btn").addEventListener("click", function() {
            let formHTML = `
                <h3 style="color: #16a085;">📝 学習フィードバックフォーム</h3>
                <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; border: 2px solid #16a085;">
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; font-weight: bold; margin-bottom: 5px; color: #2c3e50;">
                            🎯 今日の学習満足度:
                        </label>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <input type="radio" id="rating1" name="rating" value="1">
                            <label for="rating1">⭐</label>
                            <input type="radio" id="rating2" name="rating" value="2">
                            <label for="rating2">⭐⭐</label>
                            <input type="radio" id="rating3" name="rating" value="3" checked>
                            <label for="rating3">⭐⭐⭐</label>
                            <input type="radio" id="rating4" name="rating" value="4">
                            <label for="rating4">⭐⭐⭐⭐</label>
                            <input type="radio" id="rating5" name="rating" value="5">
                            <label for="rating5">⭐⭐⭐⭐⭐</label>
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; font-weight: bold; margin-bottom: 5px; color: #2c3e50;">
                            📚 学習したい次のトピック:
                        </label>
                        <select style="width: 100%; padding: 8px; border: 2px solid #bdc3c7; border-radius: 5px;">
                            <option>配列操作</option>
                            <option>関数の作成</option>
                            <option>オブジェクト操作</option>
                            <option>イベント処理</option>
                        </select>
                    </div>
                    
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; font-weight: bold; margin-bottom: 5px; color: #2c3e50;">
                            💭 感想やコメント:
                        </label>
                        <textarea style="width: 100%; height: 60px; padding: 8px; border: 2px solid #bdc3c7; border-radius: 5px; resize: vertical;" placeholder="学習の感想をお聞かせください..."></textarea>
                    </div>
                    
                    <button style="background: linear-gradient(135deg, #16a085, #3498db); color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; font-weight: bold;" onclick="alert('フォームの送信機能は次のステップで学習します！')">
                        📤 フィードバック送信
                    </button>
                </div>
                <p style="font-size: 0.9rem; color: #e67e22; font-style: italic;">
                    ⚠️ これは表示のみのデモです。実際の送信機能は後のステップで学習します。
                </p>
            `;
            generateHTML(formHTML, "form", "フォームボタン");
        });
        
        // クリアボタン
        document.getElementById("clear-btn").addEventListener("click", function() {
            let clearHTML = `
                <h3 style="color: #6c757d;">🧹 コンテンツがクリアされました</h3>
                <p style="color: #6c757d; text-align: center; font-style: italic;">
                    表示エリアがリセットされました。上のボタンから新しいコンテンツを生成してください。
                </p>
                <div style="text-align: center; margin: 20px 0;">
                    <div style="font-size: 3rem;">🆕</div>
                    <p style="margin-top: 10px;">新しいスタート！</p>
                </div>
            `;
            generateHTML(clearHTML, null, "クリアボタン");
        });
        
        // 初期統計表示
        updateStats();
        
        console.log("✅ HTML動的生成システムが初期化されました！");
        console.log("💡 各ボタンをクリックして、HTMLコンテンツがどのように生成されるか確認してください！");
        console.log("🔍 開発者ツールのElementsタブでHTML構造の変化も確認してみてください！");
    </script>
</body>
</html>