<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ステップ17.1 - テキスト内容変更</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            max-width: 1000px;
            margin: 40px auto;
            padding: 20px;
            line-height: 1.6;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
        }
        
        .container {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            color: #FFE135;
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .step-info {
            text-align: center;
            margin-bottom: 30px;
            opacity: 0.9;
        }
        
        .demo-section {
            background: rgba(255, 255, 255, 0.15);
            padding: 30px;
            border-radius: 20px;
            margin: 25px 0;
        }
        
        .text-display {
            background: rgba(255, 255, 255, 0.9);
            color: #2c3e50;
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
            font-size: 1.3rem;
            font-weight: bold;
            text-align: center;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 3px solid rgba(255, 255, 255, 0.3);
            transition: all 0.3s ease;
        }
        
        .button-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 25px 0;
        }
        
        .text-btn {
            background: linear-gradient(135deg, #ff6b6b 0%, #4ecdc4 100%);
            color: white;
            border: none;
            padding: 15px 20px;
            font-size: 1rem;
            border-radius: 12px;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            font-weight: bold;
        }
        
        .text-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }
        
        .text-btn:active {
            transform: translateY(0);
        }
        
        .btn-greeting { background: linear-gradient(135deg, #56ab2f, #a8e6cf); }
        .btn-time { background: linear-gradient(135deg, #667eea, #764ba2); }
        .btn-motivation { background: linear-gradient(135deg, #fa709a, #fee140); }
        .btn-learning { background: linear-gradient(135deg, #ff9a9e, #fecfef); }
        .btn-progress { background: linear-gradient(135deg, #a8edea, #fed6e3); }
        .btn-clear { background: linear-gradient(135deg, #6c757d, #495057); }
        
        .info-box {
            background: rgba(255, 255, 255, 0.15);
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
            border-left: 5px solid #FFE135;
        }
        
        .highlight {
            color: #FFE135;
            font-weight: bold;
        }
        
        .code-example {
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 8px;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            margin: 15px 0;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .instruction {
            background: rgba(255, 193, 7, 0.2);
            padding: 20px;
            border-radius: 10px;
            border: 2px solid #FFE135;
            margin: 20px 0;
        }
        
        .celebration {
            font-size: 3rem;
            text-align: center;
            margin: 20px 0;
        }
        
        .stats-section {
            background: rgba(0, 0, 0, 0.2);
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin: 15px 0;
        }
        
        .stat-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }
        
        .stat-number {
            font-size: 1.8rem;
            font-weight: bold;
            color: #FFE135;
        }
        
        .current-text {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            font-style: italic;
        }
        
        .feature-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .feature-card {
            background: rgba(0, 0, 0, 0.2);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
        }
        
        .feature-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>📝 テキスト内容変更</h1>
        <div class="step-info">
            <strong>ステップ17.1 - textContentを使った動的テキスト操作</strong>
        </div>
        
        <div class="celebration">📝 ✏️ 📄</div>
        
        <div class="info-box">
            <h3>📚 このステップで学ぶこと</h3>
            <ul>
                <li><strong>textContent</strong>プロパティの完全理解</li>
                <li>複数の<strong>異なるテキスト</strong>の動的切り替え</li>
                <li><strong>時刻表示</strong>などの動的コンテンツ生成</li>
                <li>テキスト操作の<strong>統計管理</strong>と履歴追跡</li>
            </ul>
        </div>
        
        <div class="demo-section">
            <h3>🎪 動的テキスト変更デモ</h3>
            <p>ボタンをクリックして、テキスト表示エリアの内容を変更してみましょう！</p>
            
            <div class="text-display" id="main-display">
                🌟 ここにテキストが表示されます。ボタンをクリックして変更してみてください！
            </div>
            
            <div class="button-grid">
                <button class="text-btn btn-greeting" id="greeting-btn">
                    👋 挨拶メッセージ
                </button>
                
                <button class="text-btn btn-time" id="time-btn">
                    🕐 現在時刻表示
                </button>
                
                <button class="text-btn btn-motivation" id="motivation-btn">
                    💪 やる気メッセージ
                </button>
                
                <button class="text-btn btn-learning" id="learning-btn">
                    📖 学習メッセージ
                </button>
                
                <button class="text-btn btn-progress" id="progress-btn">
                    📊 進捗メッセージ
                </button>
                
                <button class="text-btn btn-clear" id="clear-btn">
                    🧹 クリア
                </button>
            </div>
            
            <div class="current-text" id="current-text">
                現在のテキスト: "🌟 ここにテキストが表示されます。ボタンをクリックして変更してみてください！"
            </div>
        </div>
        
        <div class="stats-section">
            <h4>📊 テキスト変更統計</h4>
            <div class="stats-grid">
                <div class="stat-item">
                    <div>総変更回数</div>
                    <div class="stat-number" id="total-changes">0</div>
                </div>
                <div class="stat-item">
                    <div>挨拶回数</div>
                    <div class="stat-number" id="greeting-count">0</div>
                </div>
                <div class="stat-item">
                    <div>時刻表示回数</div>
                    <div class="stat-number" id="time-count">0</div>
                </div>
                <div class="stat-item">
                    <div>やる気回数</div>
                    <div class="stat-number" id="motivation-count">0</div>
                </div>
                <div class="stat-item">
                    <div>学習回数</div>
                    <div class="stat-number" id="learning-count">0</div>
                </div>
                <div class="stat-item">
                    <div>進捗回数</div>
                    <div class="stat-number" id="progress-count">0</div>
                </div>
            </div>
        </div>
        
        <div class="feature-list">
            <div class="feature-card">
                <div class="feature-icon">📝</div>
                <h4>textContent操作</h4>
                <p>要素のテキスト内容を安全に変更</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">🕐</div>
                <h4>動的コンテンツ</h4>
                <p>現在時刻などのリアルタイム情報生成</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">📊</div>
                <h4>操作履歴</h4>
                <p>各操作の回数を統計として記録</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">🔄</div>
                <h4>即座の更新</h4>
                <p>クリック即座にテキスト内容が変更</p>
            </div>
        </div>
        
        <div class="info-box">
            <h3>🎯 textContentとは？</h3>
            <p><strong>textContent</strong>は、HTML要素の中のテキスト内容を取得・設定するプロパティです。</p>
            
            <div class="code-example">
// 要素を取得
let element = document.getElementById("my-element");

// 現在のテキストを取得
let currentText = element.textContent;

// 新しいテキストを設定
element.textContent = "新しいテキスト内容";

// 時刻を動的に生成
let now = new Date();
let timeString = now.getHours() + ":" + now.getMinutes();
element.textContent = "現在時刻: " + timeString;
            </div>
        </div>
        
        <div class="info-box">
            <h3>🔧 実装されている機能</h3>
            <ul>
                <li><strong>👋 挨拶メッセージ</strong>: 親しみやすい挨拶を表示</li>
                <li><strong>🕐 現在時刻表示</strong>: リアルタイムの時刻情報を生成</li>
                <li><strong>💪 やる気メッセージ</strong>: モチベーション向上メッセージ</li>
                <li><strong>📖 学習メッセージ</strong>: 学習に関する励ましメッセージ</li>
                <li><strong>📊 進捗メッセージ</strong>: 学習進捗に関するメッセージ</li>
                <li><strong>🧹 クリア機能</strong>: 表示エリアをクリア</li>
            </ul>
        </div>
        
        <div class="instruction">
            <h3>🚀 すべてのテキスト変更を試してみよう！</h3>
            <p>6つのボタンをすべてクリックして、どのようにテキストが変更されるか確認してください。特に時刻表示ボタンを複数回クリックして、時刻が更新されることを確認しましょう。</p>
            <p><strong>F12</strong>（MacはCmd+Option+I）で開発者ツールを開き、<strong>Console</strong>タブで変更ログも確認できます！</p>
        </div>
    </div>
    
    <script>
        console.log("📝 ステップ17.1: テキスト内容変更を開始します！");
        console.log("========================================");
        
        // 統計用変数
        let totalChanges = 0;
        let buttonCounts = {
            greeting: 0,
            time: 0,
            motivation: 0,
            learning: 0,
            progress: 0
        };
        
        // DOM要素の取得
        let mainDisplay = document.getElementById("main-display");
        let currentTextDisplay = document.getElementById("current-text");
        
        // テキスト変更を処理する共通関数
        function changeText(newText, buttonType, buttonName) {
            // 古いテキストを保存
            let oldText = mainDisplay.textContent;
            
            // 新しいテキストを設定
            mainDisplay.textContent = newText;
            
            // 現在のテキスト表示を更新
            currentTextDisplay.textContent = `現在のテキスト: "${newText}"`;
            
            // 統計を更新
            totalChanges++;
            if (buttonType && buttonCounts.hasOwnProperty(buttonType)) {
                buttonCounts[buttonType]++;
            }
            
            updateStats();
            
            // ログ出力
            console.log(`${buttonName}: テキストを変更しました`);
            console.log(`旧: "${oldText}"`);
            console.log(`新: "${newText}"`);
            console.log(`総変更回数: ${totalChanges}`);
        }
        
        // 統計表示を更新する関数
        function updateStats() {
            document.getElementById("total-changes").textContent = totalChanges;
            document.getElementById("greeting-count").textContent = buttonCounts.greeting;
            document.getElementById("time-count").textContent = buttonCounts.time;
            document.getElementById("motivation-count").textContent = buttonCounts.motivation;
            document.getElementById("learning-count").textContent = buttonCounts.learning;
            document.getElementById("progress-count").textContent = buttonCounts.progress;
        }
        
        // 現在時刻を取得する関数
        function getCurrentTime() {
            let now = new Date();
            let hours = String(now.getHours()).padStart(2, '0');
            let minutes = String(now.getMinutes()).padStart(2, '0');
            let seconds = String(now.getSeconds()).padStart(2, '0');
            return `${hours}:${minutes}:${seconds}`;
        }
        
        // 挨拶ボタン
        document.getElementById("greeting-btn").addEventListener("click", function() {
            let greetings = [
                "👋 こんにちは！JavaScriptの学習お疲れ様です！",
                "😊 素晴らしい一日ですね！一緒に頑張りましょう！",
                "🌟 あなたの学習への取り組みは本当に素晴らしいです！",
                "🎉 プログラミングの世界へようこそ！楽しんでいきましょう！"
            ];
            let randomGreeting = greetings[Math.floor(Math.random() * greetings.length)];
            changeText(randomGreeting, "greeting", "挨拶ボタン");
        });
        
        // 時刻ボタン
        document.getElementById("time-btn").addEventListener("click", function() {
            let currentTime = getCurrentTime();
            let timeMessage = `🕐 現在時刻: ${currentTime} - 今この瞬間も学習中！`;
            changeText(timeMessage, "time", "時刻ボタン");
        });
        
        // やる気ボタン
        document.getElementById("motivation-btn").addEventListener("click", function() {
            let motivations = [
                "💪 あなたは必ずできます！一歩一歩前進していきましょう！",
                "🔥 情熱を持って取り組めば、どんな困難も乗り越えられます！",
                "⚡ エネルギー全開で頑張りましょう！今日も最高の一日に！",
                "🚀 目標に向かって飛び立ちましょう！あなたの可能性は無限大！"
            ];
            let randomMotivation = motivations[Math.floor(Math.random() * motivations.length)];
            changeText(randomMotivation, "motivation", "やる気ボタン");
        });
        
        // 学習ボタン
        document.getElementById("learning-btn").addEventListener("click", function() {
            let learningMessages = [
                "📖 知識は人生最大の財産です。今日も新しいことを学びましょう！",
                "🧠 脳は使えば使うほど発達します。プログラミングで脳を鍛えましょう！",
                "💡 理解できない時は休憩も大切。焦らず着実に進歩しましょう！",
                "🔬 実験するように学習しましょう。失敗も大切な学びの一部です！"
            ];
            let randomLearning = learningMessages[Math.floor(Math.random() * learningMessages.length)];
            changeText(randomLearning, "learning", "学習ボタン");
        });
        
        // 進捗ボタン
        document.getElementById("progress-btn").addEventListener("click", function() {
            let stepNumber = "17.1";
            let progressMessages = [
                `📊 現在のステップ: ${stepNumber} - textContentマスターまであと少し！`,
                `🎯 学習進捗: 順調です！${stepNumber}ステップを着実にクリア中！`,
                `📈 スキルアップ中！ステップ${stepNumber}でさらに成長しています！`,
                `✨ 素晴らしい進捗です！ステップ${stepNumber}を楽しく学習中！`
            ];
            let randomProgress = progressMessages[Math.floor(Math.random() * progressMessages.length)];
            changeText(randomProgress, "progress", "進捗ボタン");
        });
        
        // クリアボタン
        document.getElementById("clear-btn").addEventListener("click", function() {
            changeText("🧹 表示エリアがクリアされました。新たなスタートです！", null, "クリアボタン");
        });
        
        // 初期統計表示
        updateStats();
        
        console.log("✅ テキスト変更システムが初期化されました！");
        console.log("💡 各ボタンをクリックして、テキストがどのように変化するか確認してください！");
    </script>
</body>
</html>