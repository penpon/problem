<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ユーザー認証システム</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- ヘッダー -->
    <header class="header">
        <div class="container">
            <h1 class="logo">🔐 認証システム</h1>
            <div class="user-status" id="user-status">
                <span class="login-status">未ログイン</span>
                <button class="logout-btn" id="logout-btn" onclick="logout()" style="display: none;">ログアウト</button>
            </div>
        </div>
    </header>

    <main class="main">
        <div class="container">
            <!-- ログイン状態の表示 -->
            <div class="user-info" id="user-info" style="display: none;">
                <div class="welcome-message">
                    <h2>ようこそ、<span id="user-name"></span>さん</h2>
                    <p>ログインが完了しました。ECサイトの全機能をご利用いただけます。</p>
                </div>
            </div>

            <!-- 認証フォームコンテナ -->
            <div class="auth-container" id="auth-container">
                <!-- タブ切り替え -->
                <div class="auth-tabs">
                    <button class="tab-btn active" onclick="showTab('register')" id="register-tab">
                        👤 新規登録
                    </button>
                    <button class="tab-btn" onclick="showTab('login')" id="login-tab">
                        🔑 ログイン
                    </button>
                </div>

                <!-- 新規登録フォーム -->
                <form id="register-form" class="auth-form active" onsubmit="handleRegister(event)">
                    <h2 class="form-title">アカウントを作成</h2>
                    <p class="form-description">必要な情報を入力して、アカウントを作成してください。</p>

                    <div class="form-group">
                        <label for="register-name">お名前 *</label>
                        <input type="text" id="register-name" name="name" required 
                               placeholder="山田 太郎">
                        <div class="validation-message" id="register-name-message"></div>
                    </div>

                    <div class="form-group">
                        <label for="register-email">メールアドレス *</label>
                        <input type="email" id="register-email" name="email" required 
                               placeholder="example@email.com">
                        <div class="validation-message" id="register-email-message"></div>
                    </div>

                    <div class="form-group">
                        <label for="register-password">パスワード *</label>
                        <div class="password-input-container">
                            <input type="password" id="register-password" name="password" required 
                                   placeholder="8文字以上の安全なパスワード">
                            <button type="button" class="password-toggle" onclick="togglePassword('register-password')">
                                👁️
                            </button>
                        </div>
                        <div class="password-strength" id="password-strength">
                            <div class="strength-bar">
                                <div class="strength-fill" id="strength-fill"></div>
                            </div>
                            <div class="strength-text" id="strength-text">パスワードを入力してください</div>
                        </div>
                        <div class="validation-message" id="register-password-message"></div>
                    </div>

                    <div class="form-group">
                        <label for="register-password-confirm">パスワード確認 *</label>
                        <div class="password-input-container">
                            <input type="password" id="register-password-confirm" name="passwordConfirm" required 
                                   placeholder="上記と同じパスワードを入力">
                            <button type="button" class="password-toggle" onclick="togglePassword('register-password-confirm')">
                                👁️
                            </button>
                        </div>
                        <div class="validation-message" id="register-password-confirm-message"></div>
                    </div>

                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="terms-agree" required>
                            <span class="checkmark"></span>
                            <a href="#" onclick="showTerms()">利用規約</a>と<a href="#" onclick="showPrivacy()">プライバシーポリシー</a>に同意する
                        </label>
                    </div>

                    <button type="submit" class="auth-btn" id="register-btn" disabled>
                        🎉 アカウントを作成
                    </button>
                </form>

                <!-- ログインフォーム -->
                <form id="login-form" class="auth-form" onsubmit="handleLogin(event)">
                    <h2 class="form-title">ログイン</h2>
                    <p class="form-description">既存のアカウントでログインしてください。</p>

                    <div class="form-group">
                        <label for="login-email">メールアドレス *</label>
                        <input type="email" id="login-email" name="email" required 
                               placeholder="登録済みのメールアドレス">
                        <div class="validation-message" id="login-email-message"></div>
                    </div>

                    <div class="form-group">
                        <label for="login-password">パスワード *</label>
                        <div class="password-input-container">
                            <input type="password" id="login-password" name="password" required 
                                   placeholder="パスワードを入力">
                            <button type="button" class="password-toggle" onclick="togglePassword('login-password')">
                                👁️
                            </button>
                        </div>
                        <div class="validation-message" id="login-password-message"></div>
                    </div>

                    <div class="form-options">
                        <label class="checkbox-label">
                            <input type="checkbox" id="remember-me">
                            <span class="checkmark"></span>
                            ログイン状態を保持する
                        </label>
                        <a href="#" class="forgot-password" onclick="showForgotPassword()">
                            パスワードを忘れた方
                        </a>
                    </div>

                    <button type="submit" class="auth-btn" id="login-btn">
                        🚀 ログイン
                    </button>

                    <div class="social-login">
                        <p>または</p>
                        <button type="button" class="social-btn google" onclick="socialLogin('google')">
                            📧 Googleでログイン
                        </button>
                        <button type="button" class="social-btn facebook" onclick="socialLogin('facebook')">
                            📘 Facebookでログイン
                        </button>
                    </div>
                </form>
            </div>

            <!-- パスワード強度ガイド -->
            <div class="password-guide">
                <h3>🔒 安全なパスワードの作り方</h3>
                <ul>
                    <li>8文字以上の長さにしましょう</li>
                    <li>大文字と小文字を組み合わせましょう</li>
                    <li>数字を含めましょう</li>
                    <li>記号（!@#$%など）を含めましょう</li>
                    <li>辞書にある単語は避けましょう</li>
                    <li>個人情報（生年月日など）は使わないでください</li>
                </ul>
            </div>
        </div>
    </main>

    <!-- 成功メッセージ -->
    <div class="success-message" id="success-message">
        <div class="message-content">
            <span class="message-text"></span>
            <button class="message-close" onclick="hideMessage()">×</button>
        </div>
    </div>

    <!-- ローディングオーバーレイ -->
    <div class="loading-overlay" id="loading-overlay">
        <div class="loading-spinner">
            <div class="spinner"></div>
            <p>処理中...</p>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>