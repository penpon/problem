{
  "id": "js-advanced-24",
  "title": "まとめ練習 - タイマーバナー（カウントダウンで表示/非表示）",
  "description": "開始/停止ボタンでカウントダウンを制御し、残り秒に応じてバナーを表示/非表示します",
  "category": "javascript-advanced",
  "instructions": [
    "開始ボタンで5秒カウントダウンを開始し、停止ボタンで即時停止する",
    "残り秒は #secText に表示する",
    "残り>0の間は #banner に .show を付与し表示する",
    "状態文言（#statusText）は『表示中/停止中』を同期させる"
  ],
  "files": {
    "html": {
      "template": "<!DOCTYPE html>\n<html lang=\"ja\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n  <title>js-advanced-24 まとめ練習 - タイマーバナー</title>\n  <link rel=\"stylesheet\" href=\"style.css\" />\n</head>\n<body>\n  <div class=\"container\">\n    <h1>まとめ練習 - タイマーバナー（カウントダウンで表示/非表示）</h1>\n\n    <div class=\"controls\">\n      <button id=\"startBtn\" type=\"button\">開始</button>\n      <button id=\"stopBtn\" type=\"button\">停止</button>\n      <div class=\"meta\">残り: <span id=\"secText\">0</span> 秒 / 状態: <span id=\"statusText\">停止中</span></div>\n    </div>\n\n    <div id=\"banner\" class=\"banner\" aria-live=\"polite\">\n      <span class=\"banner-text\">今だけセール開催中！</span>\n    </div>\n  </div>\n\n  <script src=\"script.js\"></script>\n</body>\n</html>\n",
      "expected": "__INCLUDE__: problems/frontend/expected/js-advanced-24/files.html.expected"
    },
    "css": {
      "template": "body{font-family:system-ui,-apple-system,\\\"Segoe UI\\\",sans-serif;margin:16px}\n.container{max-width:800px;margin:auto}\n.controls{display:flex;gap:12px;align-items:center;flex-wrap:wrap;margin:12px 0}\nbutton{padding:8px 12px;border:1px solid #ccc;border-radius:6px;background:#f8f8f8}\n.meta{color:#666}\n.banner{margin-top:16px;padding:16px;border:1px dashed #0a7;border-radius:8px;background:#eafff6;display:none}\n.banner.show{display:block}\n.banner-text{font-weight:700;color:#0a7}\n",
      "expected": "__INCLUDE__: problems/frontend/expected/js-advanced-24/files.css.expected"
    },
    "js": {
      "template": "let timerId = null;\nlet remaining = 0;\n\nconst $start = document.getElementById('startBtn');\nconst $stop = document.getElementById('stopBtn');\nconst $sec = document.getElementById('secText');\nconst $status = document.getElementById('statusText');\nconst $banner = document.getElementById('banner');\n\nfunction updateView(){\n  $sec.textContent = String(remaining);\n  if (remaining > 0) {\n    $banner.classList.add('show');\n    $status.textContent = '表示中';\n  } else {\n    $banner.classList.remove('show');\n    $status.textContent = '停止中';\n  }\n}\n\nfunction start(sec = 5){\n  clearInterval(timerId);\n  remaining = Math.max(0, sec);\n  updateView();\n  if (remaining === 0) return;\n  timerId = setInterval(() => {\n    remaining -= 1;\n    if (remaining <= 0){\n      remaining = 0;\n      clearInterval(timerId);\n    }\n    updateView();\n  }, 1000);\n}\n\nfunction stop(){\n  clearInterval(timerId);\n  remaining = 0;\n  updateView();\n}\n\n$start.addEventListener('click', () => start(5));\n$stop.addEventListener('click', stop);\n\nupdateView();\n",
      "expected": "__INCLUDE__: problems/frontend/expected/js-advanced-24/files.js.expected"
    }
  },
  "checks": [
    { "id": "doctype", "name": "DOCTYPE宣言", "type": "structure", "message": "DOCTYPE html宣言が必要です" },
    { "id": "html", "name": "<html>タグ", "type": "structure", "message": "<html>タグが必要です" },
    { "id": "head", "name": "<head>セクション", "type": "structure", "message": "<head>セクションが必要です" },
    { "id": "body", "name": "<body>セクション", "type": "structure", "message": "<body>セクションが必要です" },
    { "id": "title", "name": "<title>タグ", "type": "structure", "message": "<title>タグと内容が必要です" },
    { "id": "css-content", "name": "CSSスタイル", "type": "css", "message": "CSSでスタイルを設定してください" },
    { "id": "js-content", "name": "JavaScript", "type": "js", "message": "JavaScriptで動的な動作を実装してください" }
  ]
}
