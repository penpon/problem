{
  "id": "ec-project-13",
  "title": "13: イベント委譲の基礎",
  "category": "ec-project",
  "description": "イベント委譲のみを扱います。#list 親要素に click を1つだけ付け、[data-add] を判定してカート件数を更新します。",
  "instructions": [
    "#list に <template> で商品カードを描画（innerHTML禁止）",
    "#list へ click リスナーを1つだけ付与",
    "e.target.closest('[data-add]') を検出し、カート件数(#cartCount)を +1"
  ],
  "files": {
    "html": {
      "template": "<!DOCTYPE html>\n<html lang=\"ja\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n  <title>課題実装</title>\n  <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@latest/dist/css/bootstrap.min.css\" rel=\"stylesheet\">\n</head>\n<body>\n  <header class=\"p-2 border-bottom\"><div class=\"container d-flex justify-content-between\"><strong>EC</strong><span>Cart: <span id=\"cartCount\">0</span></span></div></header>\n  <main class=\"container my-3\">\n    <div class=\"row g-3 align-items-center mb-3\">\n      <div class=\"col-auto\">\n        <select id=\"category\" class=\"form-select\">\n          <option value=\"all\">すべて</option>\n          <option value=\"tops\">tops</option>\n          <option value=\"bags\">bags</option>\n        </select>\n      </div>\n      <div class=\"col-auto\">\n        <select id=\"sort\" class=\"form-select\">\n          <option value=\"new\">新着</option>\n          <option value=\"price_asc\">価格(安い順)</option>\n          <option value=\"price_desc\">価格(高い順)</option>\n        </select>\n      </div>\n      <div class=\"col-auto form-check\">\n        <input id=\"inStock\" type=\"checkbox\" class=\"form-check-input\">\n        <label class=\"form-check-label\" for=\"inStock\">在庫のみ</label>\n      </div>\n    </div>\n    <div id=\"list\" class=\"row g-3\"></div>\n  </main>\n  <footer class=\"p-3 border-top text-center text-muted\"><small>&copy; EC</small></footer>\n  <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@latest/dist/js/bootstrap.bundle.min.js\"></script>\n</body>\n</html>",
      "expected": "__INCLUDE__: problems/frontend/expected/ec-project-13/files.html.expected"
    },
    "css": {
      "template": "/* 任意 */",
      "expected": "__INCLUDE__: problems/frontend/expected/ec-project-13/files.css.expected"
    },
    "js": {
      "template": "// 実装してください",
      "expected": "__INCLUDE__: problems/frontend/expected/ec-project-13/files.js.expected"
    }
  },
  "expectedResult": { "behavior": "#list クリックの委譲でカート件数が増える。フィルタ/ソート/在庫で一覧が更新される" },
  "implementationPoints": [
    "必須: #list に対して一箇所の click リスナー",
    "必須: e.target.closest('[data-add]') の有無で分岐",
    "必須: 件数は変数で保持→#cartCount.textContent に反映"
  ],
  "hints": [
    "e.target.closest('[data-add]') を使う",
    "list.textContent=''→テンプレート複製で描画",
    "件数は textContent に整数として代入"
  ]
}
