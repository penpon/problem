{
  "id": "practice38",
  "title": "商品カード",
  "description": "これまでの全技術（HTML/CSS/JavaScript）を統合し、実用的な商品カードシステムを作成します",
  "category": "javascript-advanced",
  "difficulty": 4,
  "instructions": [
    "HTML、CSS、JavaScriptの知識を組み合わせた実用的なコンポーネントを作成する",
    "商品情報の動的な表示・変更システムを実装する",
    "「いいね」ボタンやカウンター機能などのユーザーインタラクションを実装する",
    "商品詳細の表示切替、価格表示、在庫管理などのECサイトレベルの機能を実装する"
  ],
  "files": {
    "html": {
      "template": "<!DOCTYPE html>\n<html lang=\"ja\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>課題実装</title>\n    <link rel=\"stylesheet\" href=\"style.css\">\n</head>\n<body>\n    <div class=\"container\">\n        <h1>課題を実装してください</h1>\n        <!-- ここに実装してください -->\n    </div>\n    \n    <script src=\"script.js\"></script>\n</body>\n</html>",
      "expected": "<!DOCTYPE html>\n<html lang=\"ja\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>商品カード - 実用的なECコンポーネント</title>\n    <link rel=\"stylesheet\" href=\"style.css\">\n</head>\n<body>\n    <div class=\"container\">\n        <header class=\"page-header\">\n            <h1>🛍️ 商品カードデモ</h1>\n            <p class=\"subtitle\">HTML、CSS、JavaScriptを統合した実用的なECサイトコンポーネント</p>\n        </header>\n        \n        <main class=\"product-showcase\">\n            <div class=\"product-card\" id=\"product-card\">\n                <!-- 商品画像セクション -->\n                <div class=\"product-image-section\">\n                    <div class=\"product-images\">\n                        <img id=\"main-image\" src=\"../shared/images/simple-product.svg\" alt=\"ワイヤレスイヤホン\" class=\"main-image\">\n                        <div class=\"image-thumbnails\">\n                            <img src=\"../shared/images/simple-product.svg\" alt=\"メイン画像\" class=\"thumbnail active\" data-image=\"../shared/images/simple-product.svg\">\n                            <div class=\"thumbnail placeholder\" data-image=\"https://via.placeholder.com/400x300/4299e1/white?text=Side+View\">📱</div>\n                            <div class=\"thumbnail placeholder\" data-image=\"https://via.placeholder.com/400x300/48bb78/white?text=In+Box\">📦</div>\n                            <div class=\"thumbnail placeholder\" data-image=\"https://via.placeholder.com/400x300/ed8936/white?text=Features\">✨</div>\n                        </div>\n                    </div>\n                    \n                    <div class=\"badge-container\">\n                        <span class=\"badge sale-badge\" id=\"sale-badge\">25% OFF</span>\n                        <span class=\"badge new-badge\">NEW</span>\n                    </div>\n                </div>\n                \n                <!-- 商品情報セクション -->\n                <div class=\"product-info\">\n                    <div class=\"product-header\">\n                        <h2 class=\"product-title\" id=\"product-title\">プレミアム ワイヤレスイヤホン</h2>\n                        <button class=\"wishlist-btn\" id=\"wishlist-btn\" aria-label=\"お気に入りに追加\">\n                            <span class=\"heart-icon\">🤍</span>\n                        </button>\n                    </div>\n                    \n                    <div class=\"rating-section\">\n                        <div class=\"stars\" id=\"rating-stars\">\n                            <span class=\"star filled\">★</span>\n                            <span class=\"star filled\">★</span>\n                            <span class=\"star filled\">★</span>\n                            <span class=\"star filled\">★</span>\n                            <span class=\"star\">★</span>\n                        </div>\n                        <span class=\"rating-text\">4.2 / 5.0</span>\n                        <span class=\"review-count\">(<span id=\"review-count\">127</span> レビュー)</span>\n                    </div>\n                    \n                    <div class=\"price-section\">\n                        <span class=\"current-price\" id=\"current-price\">¥12,800</span>\n                        <span class=\"original-price\" id=\"original-price\">¥16,000</span>\n                        <span class=\"discount-amount\" id=\"discount-amount\">¥3,200お得</span>\n                    </div>\n                    \n                    <div class=\"product-features\">\n                        <span class=\"feature-tag\">🔋 24時間バッテリー</span>\n                        <span class=\"feature-tag\">🎵 ハイレゾ対応</span>\n                        <span class=\"feature-tag\">💧 防水IPX7</span>\n                        <span class=\"feature-tag\">🎧 ノイズキャンセリング</span>\n                    </div>\n                    \n                    <div class=\"stock-info\">\n                        <div class=\"stock-indicator\">\n                            <div class=\"stock-bar\">\n                                <div class=\"stock-fill\" id=\"stock-fill\"></div>\n                            </div>\n                            <span class=\"stock-text\">残り<span id=\"stock-count\">15</span>個</span>\n                        </div>\n                    </div>\n                    \n                    <div class=\"quantity-selector\">\n                        <label for=\"quantity\">数量:</label>\n                        <div class=\"quantity-controls\">\n                            <button class=\"qty-btn\" id=\"qty-minus\">-</button>\n                            <input type=\"number\" id=\"quantity\" value=\"1\" min=\"1\" max=\"15\">\n                            <button class=\"qty-btn\" id=\"qty-plus\">+</button>\n                        </div>\n                    </div>\n                    \n                    <div class=\"action-buttons\">\n                        <button class=\"cart-btn\" id=\"add-to-cart\">\n                            <span class=\"btn-icon\">🛒</span>\n                            <span class=\"btn-text\">カートに追加</span>\n                            <span class=\"cart-count\" id=\"cart-count\">0</span>\n                        </button>\n                        <button class=\"buy-now-btn\" id=\"buy-now\">\n                            <span class=\"btn-icon\">⚡</span>\n                            今すぐ購入\n                        </button>\n                    </div>\n                    \n                    <div class=\"social-actions\">\n                        <button class=\"like-btn\" id=\"like-btn\" aria-label=\"いいねする\">\n                            <span class=\"like-icon\">👍</span>\n                            <span class=\"like-text\">いいね</span>\n                            <span class=\"like-count\" id=\"like-count\">127</span>\n                        </button>\n                        <button class=\"share-btn\" id=\"share-btn\" aria-label=\"商品をシェア\">\n                            <span class=\"share-icon\">📤</span>\n                            シェア\n                        </button>\n                    </div>\n                </div>\n                \n                <!-- 詳細情報セクション -->\n                <div class=\"product-details\" id=\"product-details\">\n                    <div class=\"details-header\">\n                        <h3>商品詳細</h3>\n                        <button class=\"toggle-details\" id=\"toggle-details\" aria-expanded=\"false\">\n                            <span class=\"toggle-icon\">▼</span>\n                        </button>\n                    </div>\n                    \n                    <div class=\"details-content\" id=\"details-content\">\n                        <div class=\"detail-section\">\n                            <h4>主な特徴</h4>\n                            <ul class=\"feature-list\">\n                                <li>✅ Bluetooth 5.2接続で安定した音質</li>\n                                <li>✅ アクティブノイズキャンセリング機能</li>\n                                <li>✅ IPX7防水規格で運動時も安心</li>\n                                <li>✅ 最大24時間の長時間再生</li>\n                                <li>✅ 急速充電対応（15分で3時間再生）</li>\n                            </ul>\n                        </div>\n                        \n                        <div class=\"detail-section\">\n                            <h4>スペック</h4>\n                            <div class=\"spec-table\">\n                                <div class=\"spec-row\">\n                                    <span class=\"spec-label\">接続方式</span>\n                                    <span class=\"spec-value\">Bluetooth 5.2</span>\n                                </div>\n                                <div class=\"spec-row\">\n                                    <span class=\"spec-label\">再生時間</span>\n                                    <span class=\"spec-value\">イヤホン本体: 8時間 / ケース込み: 24時間</span>\n                                </div>\n                                <div class=\"spec-row\">\n                                    <span class=\"spec-label\">充電時間</span>\n                                    <span class=\"spec-value\">約1.5時間</span>\n                                </div>\n                                <div class=\"spec-row\">\n                                    <span class=\"spec-label\">防水性能</span>\n                                    <span class=\"spec-value\">IPX7</span>\n                                </div>\n                                <div class=\"spec-row\">\n                                    <span class=\"spec-label\">重量</span>\n                                    <span class=\"spec-value\">片耳: 5g / ケース: 45g</span>\n                                </div>\n                            </div>\n                        </div>\n                        \n                        <div class=\"detail-section\">\n                            <h4>配送・返品情報</h4>\n                            <div class=\"shipping-info\">\n                                <div class=\"shipping-item\">\n                                    <span class=\"shipping-icon\">🚚</span>\n                                    <span class=\"shipping-text\">全国送料無料（通常2-3営業日でお届け）</span>\n                                </div>\n                                <div class=\"shipping-item\">\n                                    <span class=\"shipping-icon\">🔄</span>\n                                    <span class=\"shipping-text\">30日間返品・交換保証</span>\n                                </div>\n                                <div class=\"shipping-item\">\n                                    <span class=\"shipping-icon\">🛡️</span>\n                                    <span class=\"shipping-text\">メーカー1年保証付き</span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            \n            <!-- 通知システム -->\n            <div class=\"notification\" id=\"notification\">\n                <span class=\"notification-icon\" id=\"notification-icon\">✅</span>\n                <span class=\"notification-message\" id=\"notification-message\">メッセージ</span>\n                <button class=\"notification-close\" id=\"notification-close\" aria-label=\"通知を閉じる\">×</button>\n            </div>\n            \n            <!-- 機能説明パネル -->\n            <div class=\"info-panel\">\n                <h3>🔥 実装されている機能</h3>\n                <div class=\"feature-grid\">\n                    <div class=\"feature-item\">\n                        <span class=\"feature-icon\">❤️</span>\n                        <div class=\"feature-info\">\n                            <strong>いいね機能</strong>\n                            <p>ハートボタンでいいね数を増減</p>\n                        </div>\n                    </div>\n                    <div class=\"feature-item\">\n                        <span class=\"feature-icon\">🛒</span>\n                        <div class=\"feature-info\">\n                            <strong>カート機能</strong>\n                            <p>商品をカートに追加・数量管理</p>\n                        </div>\n                    </div>\n                    <div class=\"feature-item\">\n                        <span class=\"feature-icon\">📱</span>\n                        <div class=\"feature-info\">\n                            <strong>画像切替</strong>\n                            <p>サムネイルで商品画像を切替</p>\n                        </div>\n                    </div>\n                    <div class=\"feature-item\">\n                        <span class=\"feature-icon\">📊</span>\n                        <div class=\"feature-info\">\n                            <strong>在庫管理</strong>\n                            <p>リアルタイムでの在庫表示</p>\n                        </div>\n                    </div>\n                    <div class=\"feature-item\">\n                        <span class=\"feature-icon\">💾</span>\n                        <div class=\"feature-info\">\n                            <strong>データ保存</strong>\n                            <p>LocalStorageでデータ永続化</p>\n                        </div>\n                    </div>\n                    <div class=\"feature-item\">\n                        <span class=\"feature-icon\">📱</span>\n                        <div class=\"feature-info\">\n                            <strong>レスポンシブ</strong>\n                            <p>スマホ・タブレット対応</p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </main>\n    </div>\n    \n    <script src=\"script.js\"></script>\n</body>\n</html>"
    },
    "css": {
      "template": "/* 基本的なスタイル */\nbody {\n    font-family: Arial, sans-serif;\n    margin: 40px;\n    background: #f5f5f5;\n}\n\n.container {\n    max-width: 800px;\n    margin: 0 auto;\n    background: white;\n    padding: 20px;\n    border-radius: 10px;\n    box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n}\n\n/* ここに実装してください */",
      "expected": "/* CSS カスタムプロパティ（変数） */\n:root {\n    --primary-color: #667eea;\n    --secondary-color: #764ba2;\n    --success-color: #48bb78;\n    --warning-color: #ed8936;\n    --error-color: #f56565;\n    --text-color: #2d3748;\n    --text-light: #718096;\n    --bg-color: #f7fafc;\n    --card-bg: #ffffff;\n    --border-color: #e2e8f0;\n    --shadow-sm: 0 2px 4px rgba(0,0,0,0.1);\n    --shadow-md: 0 4px 6px rgba(0,0,0,0.1);\n    --shadow-lg: 0 10px 25px rgba(0,0,0,0.1);\n    --shadow-xl: 0 20px 40px rgba(0,0,0,0.1);\n    --border-radius: 12px;\n    --transition: all 0.3s ease;\n}\n\n/* リセットとベース */\n* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n}\n\nbody {\n    font-family: 'Hiragino Sans', 'ヒラギノ角ゴシック', 'Yu Gothic', 'Meiryo', sans-serif;\n    background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);\n    color: var(--text-color);\n    line-height: 1.6;\n    min-height: 100vh;\n    padding: 20px;\n}\n\n.container {\n    max-width: 1200px;\n    margin: 0 auto;\n}\n\n/* ヘッダー */\n.page-header {\n    text-align: center;\n    color: white;\n    margin-bottom: 40px;\n}\n\n.page-header h1 {\n    font-size: 2.5rem;\n    margin-bottom: 10px;\n    text-shadow: 2px 2px 4px rgba(0,0,0,0.3);\n}\n\n.subtitle {\n    font-size: 1.1rem;\n    opacity: 0.9;\n    font-weight: 300;\n}\n\n/* メインコンテンツ */\n.product-showcase {\n    display: flex;\n    flex-direction: column;\n    gap: 30px;\n    align-items: center;\n}\n\n/* 商品カード */\n.product-card {\n    background: var(--card-bg);\n    border-radius: var(--border-radius);\n    box-shadow: var(--shadow-xl);\n    overflow: hidden;\n    transition: var(--transition);\n    max-width: 500px;\n    width: 100%;\n    position: relative;\n}\n\n.product-card:hover {\n    transform: translateY(-5px);\n    box-shadow: 0 25px 50px rgba(0,0,0,0.15);\n}\n\n/* 商品画像セクション */\n.product-image-section {\n    position: relative;\n    padding: 20px;\n    background: linear-gradient(45deg, #f8f9fa, #e9ecef);\n}\n\n.main-image {\n    width: 100%;\n    height: 300px;\n    object-fit: cover;\n    border-radius: var(--border-radius);\n    transition: var(--transition);\n    cursor: pointer;\n}\n\n.main-image:hover {\n    transform: scale(1.02);\n}\n\n.image-thumbnails {\n    display: flex;\n    gap: 10px;\n    margin-top: 15px;\n    justify-content: center;\n}\n\n.thumbnail {\n    width: 60px;\n    height: 60px;\n    border-radius: 8px;\n    cursor: pointer;\n    transition: var(--transition);\n    border: 2px solid transparent;\n    object-fit: cover;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: var(--bg-color);\n    font-size: 1.2rem;\n}\n\n.thumbnail:hover,\n.thumbnail.active {\n    border-color: var(--primary-color);\n    transform: scale(1.05);\n}\n\n.placeholder {\n    background: linear-gradient(45deg, #e2e8f0, #cbd5e0);\n    color: var(--text-light);\n}\n\n/* バッジ */\n.badge-container {\n    position: absolute;\n    top: 15px;\n    left: 15px;\n    display: flex;\n    flex-direction: column;\n    gap: 5px;\n}\n\n.badge {\n    padding: 5px 10px;\n    border-radius: 20px;\n    font-size: 0.8rem;\n    font-weight: bold;\n    text-transform: uppercase;\n    letter-spacing: 0.5px;\n}\n\n.sale-badge {\n    background: var(--error-color);\n    color: white;\n    animation: pulse 2s infinite;\n}\n\n.new-badge {\n    background: var(--success-color);\n    color: white;\n}\n\n@keyframes pulse {\n    0%, 100% { transform: scale(1); }\n    50% { transform: scale(1.05); }\n}\n\n/* 商品情報セクション */\n.product-info {\n    padding: 25px;\n}\n\n.product-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: flex-start;\n    margin-bottom: 15px;\n}\n\n.product-title {\n    font-size: 1.4rem;\n    font-weight: 600;\n    color: var(--text-color);\n    flex: 1;\n    margin-right: 15px;\n}\n\n.wishlist-btn {\n    background: none;\n    border: none;\n    font-size: 1.5rem;\n    cursor: pointer;\n    transition: var(--transition);\n    padding: 5px;\n    border-radius: 50%;\n}\n\n.wishlist-btn:hover {\n    background: var(--bg-color);\n    transform: scale(1.1);\n}\n\n.wishlist-btn.active .heart-icon {\n    content: '❤️';\n}\n\n/* 評価セクション */\n.rating-section {\n    display: flex;\n    align-items: center;\n    gap: 10px;\n    margin-bottom: 15px;\n    font-size: 0.9rem;\n}\n\n.stars {\n    display: flex;\n    gap: 2px;\n}\n\n.star {\n    color: #e2e8f0;\n    font-size: 1rem;\n    transition: var(--transition);\n}\n\n.star.filled {\n    color: #f6e05e;\n}\n\n.rating-text {\n    font-weight: 600;\n    color: var(--text-color);\n}\n\n.review-count {\n    color: var(--text-light);\n}\n\n/* 価格セクション */\n.price-section {\n    display: flex;\n    align-items: center;\n    gap: 15px;\n    margin-bottom: 20px;\n    flex-wrap: wrap;\n}\n\n.current-price {\n    font-size: 1.8rem;\n    font-weight: bold;\n    color: var(--error-color);\n}\n\n.original-price {\n    font-size: 1.2rem;\n    color: var(--text-light);\n    text-decoration: line-through;\n}\n\n.discount-amount {\n    background: var(--success-color);\n    color: white;\n    padding: 2px 8px;\n    border-radius: 12px;\n    font-size: 0.8rem;\n    font-weight: 600;\n}\n\n/* 商品特徴 */\n.product-features {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 8px;\n    margin-bottom: 20px;\n}\n\n.feature-tag {\n    background: var(--bg-color);\n    padding: 6px 12px;\n    border-radius: 20px;\n    font-size: 0.85rem;\n    color: var(--text-color);\n    border: 1px solid var(--border-color);\n}\n\n/* 在庫情報 */\n.stock-info {\n    margin-bottom: 20px;\n}\n\n.stock-indicator {\n    display: flex;\n    align-items: center;\n    gap: 10px;\n}\n\n.stock-bar {\n    flex: 1;\n    height: 6px;\n    background: var(--border-color);\n    border-radius: 3px;\n    overflow: hidden;\n}\n\n.stock-fill {\n    height: 100%;\n    background: linear-gradient(45deg, var(--warning-color), var(--error-color));\n    transition: width 0.5s ease;\n    border-radius: 3px;\n}\n\n.stock-text {\n    font-size: 0.9rem;\n    color: var(--text-light);\n    white-space: nowrap;\n}\n\n/* 数量選択 */\n.quantity-selector {\n    display: flex;\n    align-items: center;\n    gap: 15px;\n    margin-bottom: 20px;\n}\n\n.quantity-selector label {\n    font-weight: 600;\n    color: var(--text-color);\n}\n\n.quantity-controls {\n    display: flex;\n    align-items: center;\n    border: 1px solid var(--border-color);\n    border-radius: 8px;\n    overflow: hidden;\n}\n\n.qty-btn {\n    background: var(--bg-color);\n    border: none;\n    padding: 8px 12px;\n    cursor: pointer;\n    font-weight: bold;\n    color: var(--text-color);\n    transition: var(--transition);\n}\n\n.qty-btn:hover {\n    background: var(--border-color);\n}\n\n.qty-btn:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n}\n\n#quantity {\n    border: none;\n    padding: 8px 15px;\n    text-align: center;\n    font-size: 1rem;\n    width: 80px;\n    outline: none;\n}\n\n/* アクションボタン */\n.action-buttons {\n    display: flex;\n    gap: 10px;\n    margin-bottom: 20px;\n}\n\n.cart-btn,\n.buy-now-btn {\n    flex: 1;\n    padding: 15px 20px;\n    border: none;\n    border-radius: var(--border-radius);\n    font-weight: 600;\n    cursor: pointer;\n    transition: var(--transition);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: 8px;\n    font-size: 1rem;\n    position: relative;\n}\n\n.cart-btn {\n    background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));\n    color: white;\n}\n\n.cart-btn:hover {\n    transform: translateY(-2px);\n    box-shadow: var(--shadow-lg);\n}\n\n.cart-btn:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n    transform: none;\n}\n\n.cart-count {\n    background: rgba(255,255,255,0.3);\n    border-radius: 50%;\n    min-width: 20px;\n    height: 20px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 0.8rem;\n    position: absolute;\n    top: -5px;\n    right: -5px;\n}\n\n.buy-now-btn {\n    background: var(--warning-color);\n    color: white;\n}\n\n.buy-now-btn:hover {\n    background: #dd7324;\n    transform: translateY(-2px);\n    box-shadow: var(--shadow-lg);\n}\n\n/* ソーシャルアクション */\n.social-actions {\n    display: flex;\n    gap: 10px;\n    padding-top: 20px;\n    border-top: 1px solid var(--border-color);\n}\n\n.like-btn,\n.share-btn {\n    flex: 1;\n    background: var(--bg-color);\n    border: 1px solid var(--border-color);\n    padding: 12px 15px;\n    border-radius: 8px;\n    cursor: pointer;\n    transition: var(--transition);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: 8px;\n    color: var(--text-color);\n}\n\n.like-btn:hover,\n.share-btn:hover {\n    background: white;\n    border-color: var(--primary-color);\n    transform: translateY(-1px);\n}\n\n.like-btn.liked {\n    background: #fef5e7;\n    border-color: var(--warning-color);\n    color: var(--warning-color);\n}\n\n.like-btn.liked .like-icon {\n    animation: bounce 0.5s ease;\n}\n\n@keyframes bounce {\n    0%, 100% { transform: scale(1); }\n    50% { transform: scale(1.2); }\n}\n\n/* 詳細情報セクション */\n.product-details {\n    border-top: 1px solid var(--border-color);\n}\n\n.details-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 20px 25px;\n    cursor: pointer;\n    transition: var(--transition);\n}\n\n.details-header:hover {\n    background: var(--bg-color);\n}\n\n.details-header h3 {\n    font-size: 1.1rem;\n    color: var(--text-color);\n}\n\n.toggle-details {\n    background: none;\n    border: none;\n    font-size: 1.2rem;\n    cursor: pointer;\n    color: var(--text-light);\n    transition: var(--transition);\n}\n\n.toggle-details.expanded .toggle-icon {\n    transform: rotate(180deg);\n}\n\n.details-content {\n    max-height: 0;\n    overflow: hidden;\n    transition: max-height 0.3s ease;\n}\n\n.details-content.expanded {\n    max-height: 1000px;\n}\n\n.detail-section {\n    padding: 0 25px 20px;\n}\n\n.detail-section h4 {\n    color: var(--text-color);\n    margin-bottom: 10px;\n    font-size: 1rem;\n}\n\n.feature-list {\n    list-style: none;\n    padding: 0;\n}\n\n.feature-list li {\n    padding: 5px 0;\n    color: var(--text-color);\n    font-size: 0.9rem;\n}\n\n.spec-table {\n    display: flex;\n    flex-direction: column;\n    gap: 8px;\n}\n\n.spec-row {\n    display: flex;\n    justify-content: space-between;\n    padding: 8px 0;\n    border-bottom: 1px solid var(--border-color);\n    font-size: 0.9rem;\n}\n\n.spec-row:last-child {\n    border-bottom: none;\n}\n\n.spec-label {\n    font-weight: 600;\n    color: var(--text-color);\n}\n\n.spec-value {\n    color: var(--text-light);\n    text-align: right;\n    flex: 1;\n    margin-left: 20px;\n}\n\n.shipping-info {\n    display: flex;\n    flex-direction: column;\n    gap: 8px;\n}\n\n.shipping-item {\n    display: flex;\n    align-items: center;\n    gap: 10px;\n    font-size: 0.9rem;\n    color: var(--text-color);\n}\n\n.shipping-icon {\n    font-size: 1.1rem;\n}\n\n/* 通知システム */\n.notification {\n    position: fixed;\n    top: 20px;\n    right: 20px;\n    background: white;\n    border-radius: var(--border-radius);\n    box-shadow: var(--shadow-xl);\n    padding: 15px 20px;\n    display: flex;\n    align-items: center;\n    gap: 10px;\n    z-index: 1000;\n    transform: translateX(100%);\n    opacity: 0;\n    transition: var(--transition);\n    max-width: 350px;\n}\n\n.notification.show {\n    transform: translateX(0);\n    opacity: 1;\n}\n\n.notification.success {\n    border-left: 4px solid var(--success-color);\n}\n\n.notification.warning {\n    border-left: 4px solid var(--warning-color);\n}\n\n.notification.error {\n    border-left: 4px solid var(--error-color);\n}\n\n.notification-icon {\n    font-size: 1.2rem;\n}\n\n.notification-message {\n    flex: 1;\n    font-weight: 500;\n    color: var(--text-color);\n}\n\n.notification-close {\n    background: none;\n    border: none;\n    font-size: 1.2rem;\n    cursor: pointer;\n    color: var(--text-light);\n    padding: 0 5px;\n}\n\n/* 機能説明パネル */\n.info-panel {\n    background: white;\n    border-radius: var(--border-radius);\n    box-shadow: var(--shadow-lg);\n    padding: 25px;\n    max-width: 600px;\n    width: 100%;\n}\n\n.info-panel h3 {\n    color: var(--text-color);\n    margin-bottom: 20px;\n    text-align: center;\n    font-size: 1.3rem;\n}\n\n.feature-grid {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n    gap: 15px;\n}\n\n.feature-item {\n    display: flex;\n    align-items: center;\n    gap: 12px;\n    padding: 12px;\n    background: var(--bg-color);\n    border-radius: 8px;\n    transition: var(--transition);\n}\n\n.feature-item:hover {\n    transform: translateY(-2px);\n    box-shadow: var(--shadow-md);\n}\n\n.feature-icon {\n    font-size: 1.5rem;\n    min-width: 30px;\n    text-align: center;\n}\n\n.feature-info strong {\n    color: var(--text-color);\n    display: block;\n    margin-bottom: 2px;\n    font-size: 0.9rem;\n}\n\n.feature-info p {\n    color: var(--text-light);\n    font-size: 0.8rem;\n    line-height: 1.3;\n}\n\n/* レスポンシブデザイン */\n@media (max-width: 768px) {\n    body {\n        padding: 10px;\n    }\n    \n    .page-header h1 {\n        font-size: 2rem;\n    }\n    \n    .subtitle {\n        font-size: 1rem;\n    }\n    \n    .product-card {\n        max-width: 100%;\n    }\n    \n    .product-info {\n        padding: 20px;\n    }\n    \n    .product-header {\n        flex-direction: column;\n        align-items: flex-start;\n        gap: 10px;\n    }\n    \n    .product-title {\n        margin-right: 0;\n    }\n    \n    .price-section {\n        flex-direction: column;\n        align-items: flex-start;\n        gap: 8px;\n    }\n    \n    .current-price {\n        font-size: 1.5rem;\n    }\n    \n    .action-buttons {\n        flex-direction: column;\n    }\n    \n    .quantity-selector {\n        flex-direction: column;\n        align-items: flex-start;\n        gap: 10px;\n    }\n    \n    .feature-grid {\n        grid-template-columns: 1fr;\n    }\n    \n    .spec-row {\n        flex-direction: column;\n        gap: 5px;\n    }\n    \n    .spec-value {\n        text-align: left;\n        margin-left: 0;\n    }\n    \n    .notification {\n        top: 10px;\n        right: 10px;\n        left: 10px;\n        max-width: none;\n    }\n}\n\n@media (max-width: 480px) {\n    .main-image {\n        height: 250px;\n    }\n    \n    .image-thumbnails {\n        flex-wrap: wrap;\n    }\n    \n    .thumbnail {\n        width: 50px;\n        height: 50px;\n    }\n    \n    .feature-tag {\n        font-size: 0.75rem;\n        padding: 4px 8px;\n    }\n    \n    .cart-btn,\n    .buy-now-btn {\n        padding: 12px 15px;\n        font-size: 0.9rem;\n    }\n}\n\n/* 印刷スタイル */\n@media print {\n    body {\n        background: white;\n    }\n    \n    .product-card {\n        box-shadow: none;\n        border: 1px solid #ccc;\n    }\n    \n    .notification,\n    .action-buttons,\n    .social-actions {\n        display: none;\n    }\n}"
    },
    "js": {
      "template": "// JavaScript実装エリア\n\n// ここに実装してください\nconsole.log('課題実装を開始してください');",
      "expected": "// 19-mini-product-card: 実用的な商品カードシステムの実装\n\n// 商品データ\nconst productData = {\n    id: 1,\n    name: \"プレミアム ワイヤレスイヤホン\",\n    price: 12800,\n    originalPrice: 16000,\n    stock: 15,\n    maxStock: 20,\n    likes: 127,\n    liked: false,\n    inCart: false,\n    cartQuantity: 0,\n    wishlist: false,\n    quantity: 1,\n    rating: 4.2,\n    reviewCount: 127,\n    images: [\n        \"../shared/images/simple-product.svg\",\n        \"https://via.placeholder.com/400x300/4299e1/white?text=Side+View\",\n        \"https://via.placeholder.com/400x300/48bb78/white?text=In+Box\",\n        \"https://via.placeholder.com/400x300/ed8936/white?text=Features\"\n    ]\n};\n\n// DOM要素の取得\nlet elements = {};\n\n// DOMが読み込まれた後に実行\ndocument.addEventListener('DOMContentLoaded', function() {\n    initializeElements();\n    initializeEventListeners();\n    loadSavedData();\n    updateAllDisplays();\n    \n    console.log('🛍️ ステップ19: 商品カードシステムが読み込まれました！');\n    console.log('💡 各機能を試して、実用的なECサイトコンポーネントを体験してください！');\n});\n\n// DOM要素を初期化\nfunction initializeElements() {\n    elements = {\n        // 商品情報\n        productTitle: document.getElementById('product-title'),\n        currentPrice: document.getElementById('current-price'),\n        originalPrice: document.getElementById('original-price'),\n        discountAmount: document.getElementById('discount-amount'),\n        stockCount: document.getElementById('stock-count'),\n        stockFill: document.getElementById('stock-fill'),\n        \n        // 画像関連\n        mainImage: document.getElementById('main-image'),\n        thumbnails: document.querySelectorAll('.thumbnail'),\n        \n        // ボタン\n        wishlistBtn: document.getElementById('wishlist-btn'),\n        addToCartBtn: document.getElementById('add-to-cart'),\n        buyNowBtn: document.getElementById('buy-now'),\n        likeBtn: document.getElementById('like-btn'),\n        shareBtn: document.getElementById('share-btn'),\n        \n        // 数量コントロール\n        quantityInput: document.getElementById('quantity'),\n        qtyMinus: document.getElementById('qty-minus'),\n        qtyPlus: document.getElementById('qty-plus'),\n        \n        // カウンター表示\n        likeCount: document.getElementById('like-count'),\n        cartCount: document.getElementById('cart-count'),\n        reviewCount: document.getElementById('review-count'),\n        \n        // 詳細表示\n        toggleDetails: document.getElementById('toggle-details'),\n        detailsContent: document.getElementById('details-content'),\n        \n        // 通知システム\n        notification: document.getElementById('notification'),\n        notificationIcon: document.getElementById('notification-icon'),\n        notificationMessage: document.getElementById('notification-message'),\n        notificationClose: document.getElementById('notification-close')\n    };\n}\n\n// イベントリスナーを初期化\nfunction initializeEventListeners() {\n    // 画像切り替え\n    elements.thumbnails.forEach((thumbnail, index) => {\n        thumbnail.addEventListener('click', () => changeMainImage(index));\n    });\n    \n    // お気に入りボタン\n    elements.wishlistBtn.addEventListener('click', toggleWishlist);\n    \n    // いいねボタン\n    elements.likeBtn.addEventListener('click', toggleLike);\n    \n    // シェアボタン\n    elements.shareBtn.addEventListener('click', shareProduct);\n    \n    // カートボタン\n    elements.addToCartBtn.addEventListener('click', addToCart);\n    \n    // 今すぐ購入ボタン\n    elements.buyNowBtn.addEventListener('click', buyNow);\n    \n    // 数量コントロール\n    elements.qtyMinus.addEventListener('click', decreaseQuantity);\n    elements.qtyPlus.addEventListener('click', increaseQuantity);\n    elements.quantityInput.addEventListener('change', updateQuantity);\n    elements.quantityInput.addEventListener('input', validateQuantityInput);\n    \n    // 詳細表示切り替え\n    elements.toggleDetails.addEventListener('click', toggleDetails);\n    document.querySelector('.details-header').addEventListener('click', toggleDetails);\n    \n    // 通知クローズ\n    elements.notificationClose.addEventListener('click', hideNotification);\n    \n    // キーボードサポート\n    document.addEventListener('keydown', handleKeyboardShortcuts);\n}\n\n// === 画像切り替え機能 ===\nfunction changeMainImage(index) {\n    if (productData.images[index]) {\n        elements.mainImage.src = productData.images[index];\n        \n        // アクティブなサムネイルを更新\n        elements.thumbnails.forEach((thumb, i) => {\n            thumb.classList.toggle('active', i === index);\n        });\n        \n        // アニメーション効果\n        elements.mainImage.style.opacity = '0.7';\n        setTimeout(() => {\n            elements.mainImage.style.opacity = '1';\n        }, 150);\n    }\n}\n\n// === お気に入り機能 ===\nfunction toggleWishlist() {\n    productData.wishlist = !productData.wishlist;\n    updateWishlistDisplay();\n    saveData();\n    \n    if (productData.wishlist) {\n        showNotification('お気に入りに追加されました ❤️', 'success');\n        elements.wishlistBtn.style.animation = 'bounce 0.5s ease';\n    } else {\n        showNotification('お気に入りから削除されました', 'warning');\n    }\n    \n    setTimeout(() => {\n        elements.wishlistBtn.style.animation = '';\n    }, 500);\n}\n\nfunction updateWishlistDisplay() {\n    const heartIcon = elements.wishlistBtn.querySelector('.heart-icon');\n    if (productData.wishlist) {\n        heartIcon.textContent = '❤️';\n        elements.wishlistBtn.classList.add('active');\n    } else {\n        heartIcon.textContent = '🤍';\n        elements.wishlistBtn.classList.remove('active');\n    }\n}\n\n// === いいね機能 ===\nfunction toggleLike() {\n    if (productData.liked) {\n        productData.likes--;\n        productData.liked = false;\n        showNotification('いいねを取り消しました', 'warning');\n    } else {\n        productData.likes++;\n        productData.liked = true;\n        showNotification('いいねしました！ 👍', 'success');\n        elements.likeBtn.classList.add('liked');\n        setTimeout(() => elements.likeBtn.classList.remove('liked'), 500);\n    }\n    \n    updateLikeDisplay();\n    saveData();\n}\n\nfunction updateLikeDisplay() {\n    elements.likeCount.textContent = productData.likes;\n    \n    if (productData.liked) {\n        elements.likeBtn.classList.add('liked');\n        elements.likeBtn.querySelector('.like-icon').textContent = '👍';\n    } else {\n        elements.likeBtn.classList.remove('liked');\n        elements.likeBtn.querySelector('.like-icon').textContent = '👍';\n    }\n}\n\n// === シェア機能 ===\nfunction shareProduct() {\n    if (navigator.share) {\n        navigator.share({\n            title: productData.name,\n            text: `${productData.name} - ¥${productData.price.toLocaleString()}`,\n            url: window.location.href\n        }).then(() => {\n            showNotification('シェアしました！', 'success');\n        }).catch((err) => {\n            console.log('シェアがキャンセルされました');\n        });\n    } else {\n        // フォールバック: クリップボードにコピー\n        const shareText = `${productData.name} - ¥${productData.price.toLocaleString()} ${window.location.href}`;\n        navigator.clipboard.writeText(shareText).then(() => {\n            showNotification('リンクをクリップボードにコピーしました！', 'success');\n        }).catch(() => {\n            showNotification('シェア機能がサポートされていません', 'error');\n        });\n    }\n}\n\n// === カート機能 ===\nfunction addToCart() {\n    if (productData.stock <= 0) {\n        showNotification('在庫切れです', 'error');\n        return;\n    }\n    \n    if (productData.quantity > productData.stock) {\n        showNotification('在庫数を超える数量は選択できません', 'error');\n        return;\n    }\n    \n    productData.cartQuantity += productData.quantity;\n    productData.stock -= productData.quantity;\n    productData.inCart = true;\n    \n    updateAllDisplays();\n    saveData();\n    \n    showNotification(`${productData.quantity}個をカートに追加しました！`, 'success');\n    \n    // カートボタンのアニメーション\n    elements.addToCartBtn.style.transform = 'scale(0.95)';\n    setTimeout(() => {\n        elements.addToCartBtn.style.transform = 'scale(1)';\n    }, 150);\n    \n    // 在庫アラート\n    checkStockLevel();\n}\n\nfunction buyNow() {\n    if (productData.stock <= 0) {\n        showNotification('在庫切れのため購入できません', 'error');\n        return;\n    }\n    \n    showNotification('購入手続きページに移動します...', 'success');\n    \n    // 実際のアプリケーションでは購入ページにリダイレクト\n    setTimeout(() => {\n        showNotification('デモ版では実際の購入はできません', 'warning');\n    }, 2000);\n}\n\n// === 数量管理 ===\nfunction increaseQuantity() {\n    if (productData.quantity < productData.stock) {\n        productData.quantity++;\n        updateQuantityDisplay();\n        saveData();\n    } else {\n        showNotification('在庫数を超える数量は選択できません', 'warning');\n    }\n}\n\nfunction decreaseQuantity() {\n    if (productData.quantity > 1) {\n        productData.quantity--;\n        updateQuantityDisplay();\n        saveData();\n    }\n}\n\nfunction updateQuantity() {\n    const value = parseInt(elements.quantityInput.value);\n    if (isNaN(value) || value < 1) {\n        productData.quantity = 1;\n    } else if (value > productData.stock) {\n        productData.quantity = productData.stock;\n        showNotification('在庫数を超える数量は選択できません', 'warning');\n    } else {\n        productData.quantity = value;\n    }\n    updateQuantityDisplay();\n    saveData();\n}\n\nfunction validateQuantityInput() {\n    const value = parseInt(elements.quantityInput.value);\n    if (value > productData.stock) {\n        elements.quantityInput.style.borderColor = 'var(--error-color)';\n    } else {\n        elements.quantityInput.style.borderColor = 'var(--border-color)';\n    }\n}\n\nfunction updateQuantityDisplay() {\n    elements.quantityInput.value = productData.quantity;\n    elements.quantityInput.max = productData.stock;\n    \n    // ボタンの状態更新\n    elements.qtyMinus.disabled = productData.quantity <= 1;\n    elements.qtyPlus.disabled = productData.quantity >= productData.stock;\n    \n    // カートボタンの状態更新\n    if (productData.stock <= 0) {\n        elements.addToCartBtn.disabled = true;\n        elements.addToCartBtn.querySelector('.btn-text').textContent = '在庫切れ';\n        elements.addToCartBtn.style.opacity = '0.6';\n    } else {\n        elements.addToCartBtn.disabled = false;\n        elements.addToCartBtn.querySelector('.btn-text').textContent = 'カートに追加';\n        elements.addToCartBtn.style.opacity = '1';\n    }\n}\n\n// === 詳細表示切り替え ===\nfunction toggleDetails() {\n    const isExpanded = elements.detailsContent.classList.contains('expanded');\n    \n    if (isExpanded) {\n        elements.detailsContent.classList.remove('expanded');\n        elements.toggleDetails.classList.remove('expanded');\n        elements.toggleDetails.setAttribute('aria-expanded', 'false');\n    } else {\n        elements.detailsContent.classList.add('expanded');\n        elements.toggleDetails.classList.add('expanded');\n        elements.toggleDetails.setAttribute('aria-expanded', 'true');\n    }\n}\n\n// === 表示更新 ===\nfunction updateAllDisplays() {\n    updatePriceDisplay();\n    updateStockDisplay();\n    updateCartDisplay();\n    updateLikeDisplay();\n    updateWishlistDisplay();\n    updateQuantityDisplay();\n}\n\nfunction updatePriceDisplay() {\n    elements.currentPrice.textContent = `¥${productData.price.toLocaleString()}`;\n    elements.originalPrice.textContent = `¥${productData.originalPrice.toLocaleString()}`;\n    \n    const discount = productData.originalPrice - productData.price;\n    elements.discountAmount.textContent = `¥${discount.toLocaleString()}お得`;\n    \n    // セールバッジの更新\n    const discountPercent = Math.round((discount / productData.originalPrice) * 100);\n    const saleBadge = document.getElementById('sale-badge');\n    if (saleBadge) {\n        saleBadge.textContent = `${discountPercent}% OFF`;\n    }\n}\n\nfunction updateStockDisplay() {\n    elements.stockCount.textContent = productData.stock;\n    \n    // 在庫バーの更新\n    const stockPercentage = (productData.stock / productData.maxStock) * 100;\n    elements.stockFill.style.width = `${stockPercentage}%`;\n    \n    // 在庫レベルに応じた色の変更\n    if (stockPercentage <= 20) {\n        elements.stockFill.style.background = 'var(--error-color)';\n    } else if (stockPercentage <= 50) {\n        elements.stockFill.style.background = 'var(--warning-color)';\n    } else {\n        elements.stockFill.style.background = 'linear-gradient(45deg, var(--success-color), #38a169)';\n    }\n}\n\nfunction updateCartDisplay() {\n    elements.cartCount.textContent = productData.cartQuantity;\n    elements.cartCount.style.display = productData.cartQuantity > 0 ? 'flex' : 'none';\n}\n\n// === 在庫アラート ===\nfunction checkStockLevel() {\n    if (productData.stock <= 3 && productData.stock > 0) {\n        showNotification('残りわずかです！お早めにどうぞ', 'warning');\n    } else if (productData.stock === 0) {\n        showNotification('在庫切れになりました', 'error');\n    }\n}\n\n// === 通知システム ===\nfunction showNotification(message, type = 'success') {\n    const icons = {\n        success: '✅',\n        warning: '⚠️',\n        error: '❌',\n        info: 'ℹ️'\n    };\n    \n    elements.notificationIcon.textContent = icons[type] || icons.success;\n    elements.notificationMessage.textContent = message;\n    elements.notification.className = `notification ${type} show`;\n    \n    // 3秒後に自動で消す\n    setTimeout(hideNotification, 3000);\n}\n\nfunction hideNotification() {\n    elements.notification.classList.remove('show');\n}\n\n// === データの保存と読み込み ===\nfunction saveData() {\n    try {\n        localStorage.setItem('productCardData', JSON.stringify({\n            likes: productData.likes,\n            liked: productData.liked,\n            cartQuantity: productData.cartQuantity,\n            stock: productData.stock,\n            wishlist: productData.wishlist,\n            quantity: productData.quantity,\n            inCart: productData.inCart\n        }));\n    } catch (error) {\n        console.error('データの保存に失敗しました:', error);\n    }\n}\n\nfunction loadSavedData() {\n    try {\n        const saved = localStorage.getItem('productCardData');\n        if (saved) {\n            const data = JSON.parse(saved);\n            Object.assign(productData, data);\n        }\n    } catch (error) {\n        console.error('データの読み込みに失敗しました:', error);\n    }\n}\n\n// === キーボードショートカット ===\nfunction handleKeyboardShortcuts(e) {\n    // Alt + L: いいね\n    if (e.altKey && e.key === 'l') {\n        e.preventDefault();\n        toggleLike();\n    }\n    \n    // Alt + C: カートに追加\n    if (e.altKey && e.key === 'c') {\n        e.preventDefault();\n        addToCart();\n    }\n    \n    // Alt + W: お気に入り\n    if (e.altKey && e.key === 'w') {\n        e.preventDefault();\n        toggleWishlist();\n    }\n    \n    // Alt + D: 詳細表示切り替え\n    if (e.altKey && e.key === 'd') {\n        e.preventDefault();\n        toggleDetails();\n    }\n    \n    // Escape: 通知を閉じる\n    if (e.key === 'Escape') {\n        hideNotification();\n    }\n}\n\n// === ユーティリティ関数 ===\n\n// 価格フォーマット\nfunction formatPrice(price) {\n    return new Intl.NumberFormat('ja-JP', {\n        style: 'currency',\n        currency: 'JPY'\n    }).format(price);\n}\n\n// 割引率計算\nfunction calculateDiscount(originalPrice, salePrice) {\n    const discount = ((originalPrice - salePrice) / originalPrice * 100).toFixed(0);\n    return `${discount}%OFF`;\n}\n\n// ランダムな商品データ生成（デモ用）\nfunction generateRandomProductData() {\n    const products = [\n        {\n            name: \"ワイヤレスイヤホン\",\n            price: 12800,\n            originalPrice: 16000\n        },\n        {\n            name: \"スマートウォッチ\",\n            price: 25600,\n            originalPrice: 32000\n        },\n        {\n            name: \"Bluetoothスピーカー\",\n            price: 8900,\n            originalPrice: 12000\n        }\n    ];\n    \n    return products[Math.floor(Math.random() * products.length)];\n}\n\n// === グローバル関数（デバッグ用） ===\nwindow.productCard = {\n    getData: () => productData,\n    setLikes: (count) => {\n        productData.likes = count;\n        updateLikeDisplay();\n        saveData();\n    },\n    setStock: (count) => {\n        productData.stock = Math.max(0, count);\n        productData.maxStock = Math.max(productData.maxStock, count);\n        updateAllDisplays();\n        saveData();\n    },\n    resetData: () => {\n        localStorage.removeItem('productCardData');\n        location.reload();\n    },\n    showDemo: () => {\n        console.log('🔥 利用可能な機能:');\n        console.log('- いいね機能: Alt + L');\n        console.log('- カート追加: Alt + C');  \n        console.log('- お気に入り: Alt + W');\n        console.log('- 詳細切替: Alt + D');\n        console.log('- データリセット: productCard.resetData()');\n    }\n};\n\n// 初期化完了メッセージ\nconsole.log('🎮 デバッグ用コマンド: productCard.showDemo()');\nconsole.log('💾 データの永続化: LocalStorage使用');\nconsole.log('⌨️ キーボードショートカット対応');"
    }
  },
  "expectedResult": {
    "productDisplay": "商品情報が美しく表示される",
    "likeSystem": "いいねボタンでいいね数が増減する",
    "cartSystem": "カートに追加・削除機能が動作する",
    "detailsToggle": "商品詳細の表示・非表示が切り替えられる",
    "stockManagement": "在庫数の動的更新が動作する",
    "imageGallery": "複数商品画像の切り替えが動作する",
    "behavior": "実用的なECサイトレベルの商品カードが完成する"
  },
  "checks": [
    {
      "id": "doctype",
      "name": "DOCTYPE宣言",
      "type": "structure",
      "message": "DOCTYPE html宣言が必要です"
    },
    {
      "id": "html",
      "name": "<html>タグ",
      "type": "structure",
      "message": "<html>タグが必要です"
    },
    {
      "id": "head",
      "name": "<head>セクション",
      "type": "structure",
      "message": "<head>セクションが必要です"
    },
    {
      "id": "body",
      "name": "<body>セクション",
      "type": "structure",
      "message": "<body>セクションが必要です"
    },
    {
      "id": "title",
      "name": "<title>タグ",
      "type": "structure",
      "message": "<title>タグと内容が必要です"
    },
    {
      "id": "css-content",
      "name": "CSSスタイル",
      "type": "css",
      "message": "CSSでスタイルを設定してください"
    },
    {
      "id": "js-content",
      "name": "JavaScript",
      "type": "js",
      "message": "JavaScriptで動的な動作を実装してください"
    }
  ]
}