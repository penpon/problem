{
  "id": "js-advanced-23",
  "title": "まとめ練習 - お気に入り + 表示切替",
  "description": "お気に入りフラグをトグルし、チェックボックスでお気に入りのみ表示に切り替えます。お気に入り数も表示します",
  "category": "javascript-advanced",
  "instructions": [
    "#onlyFav のチェック状態に応じて一覧の表示を切り替える",
    "各カードのボタンで favorite をトグルし、文言と見た目を切り替える（★/☆、.fav-active）",
    "お気に入り数を #favCount に表示する",
    "描画は #itemList に .item 要素で行う"
  ],
  "files": {
    "html": {
      "template": "<!DOCTYPE html>\n<html lang=\"ja\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n  <title>js-advanced-23 まとめ練習 - お気に入り + 表示切替</title>\n  <link rel=\"stylesheet\" href=\"style.css\" />\n</head>\n<body>\n  <div class=\"container\">\n    <h1>まとめ練習 - お気に入り + 表示切替</h1>\n\n    <div class=\"controls\">\n      <label><input id=\"onlyFav\" type=\"checkbox\" /> お気に入りのみ表示</label>\n      <div class=\"meta\">お気に入り数: <span id=\"favCount\">0</span></div>\n    </div>\n\n    <div id=\"itemList\" class=\"item-list\" aria-live=\"polite\"></div>\n  </div>\n\n  <script src=\"script.js\"></script>\n</body>\n</html>\n",
      "expected": "__INCLUDE__: problems/frontend/expected/js-advanced-23/files.html.expected"
    },
    "css": {
      "template": "body{font-family:system-ui,-apple-system,\\\"Segoe UI\\\",sans-serif;margin:16px}\n.container{max-width:900px;margin:auto}\n.controls{display:flex;gap:12px;align-items:center;flex-wrap:wrap;margin:12px 0}\n.meta{color:#666}\n.item-list{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:12px;margin-top:12px}\n.item{border:1px solid #e5e7eb;border-radius:8px;padding:12px;background:#fff;display:flex;flex-direction:column;gap:8px}\n.item-title{font-weight:600}\n.fav-btn{padding:6px 10px;border:1px solid #ccc;border-radius:6px;background:#fff}\n.fav-active{background:#ffe8e8;border-color:#f99}\n",
      "expected": "__INCLUDE__: problems/frontend/expected/js-advanced-23/files.css.expected"
    },
    "js": {
      "template": "const items = [\n  { id: 1, title: 'Pro Camera', favorite: false },\n  { id: 2, title: 'Mini Tripod', favorite: true },\n  { id: 3, title: 'Light Stand', favorite: false },\n  { id: 4, title: 'Pro Light', favorite: false }\n];\n\nconst $onlyFav = document.getElementById('onlyFav');\nconst $favCount = document.getElementById('favCount');\nconst $list = document.getElementById('itemList');\n\nfunction getView() {\n  const only = $onlyFav.checked;\n  return only ? items.filter(i => i.favorite) : items.slice();\n}\n\nfunction updateFavCount() {\n  const count = items.filter(i => i.favorite).length;\n  $favCount.textContent = String(count);\n}\n\nfunction render() {\n  $list.innerHTML = '';\n  updateFavCount();\n  for (const it of getView()) {\n    const card = document.createElement('div');\n    card.className = 'item';\n\n    const title = document.createElement('div');\n    title.className = 'item-title';\n    title.textContent = it.title;\n\n    const btn = document.createElement('button');\n    btn.className = 'fav-btn';\n    btn.textContent = it.favorite ? '★ お気に入り' : '☆ お気に入り';\n    if (it.favorite) btn.classList.add('fav-active');\n\n    btn.addEventListener('click', () => {\n      it.favorite = !it.favorite;\n      render();\n    });\n\n    card.appendChild(title);\n    card.appendChild(btn);\n    $list.appendChild(card);\n  }\n}\n\n$onlyFav.addEventListener('change', render);\n\nrender();\n",
      "expected": "__INCLUDE__: problems/frontend/expected/js-advanced-23/files.js.expected"
    }
  },
  "checks": [
    { "id": "doctype", "name": "DOCTYPE宣言", "type": "structure", "message": "DOCTYPE html宣言が必要です" },
    { "id": "html", "name": "<html>タグ", "type": "structure", "message": "<html>タグが必要です" },
    { "id": "head", "name": "<head>セクション", "type": "structure", "message": "<head>セクションが必要です" },
    { "id": "body", "name": "<body>セクション", "type": "structure", "message": "<body>セクションが必要です" },
    { "id": "title", "name": "<title>タグ", "type": "structure", "message": "<title>タグと内容が必要です" },
    { "id": "css-content", "name": "CSSスタイル", "type": "css", "message": "CSSでスタイルを設定してください" },
    { "id": "js-content", "name": "JavaScript", "type": "js", "message": "JavaScriptで動的な動作を実装してください" }
  ]
}
