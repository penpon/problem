{
  "id": "bootstrap-calc-06",
  "title": "51: 科学計算機の基礎",
  "description": "高度な計算機能を持つ科学計算機の基本機能を実装します。三角関数や対数関数など、数学的な計算を学習しましょう。",
  "category": "bootstrap-calculator",
  "difficulty": 4,
  "instructions": [
    "科学計算機の基本的なレイアウトを作成してください",
    "三角関数（sin, cos, tan）ボタンを追加してください",
    "対数関数（log, ln）ボタンを追加してください",
    "平方根（√）と指数（^）機能を実装してください",
    "Bootstrapを使って美しいデザインにしてください"
  ],
  "files": {
    "html": {
      "template": "<!DOCTYPE html>\n<html lang=\"ja\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>課題実装</title>\n    <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css\" rel=\"stylesheet\">\n    <link rel=\"stylesheet\" href=\"style.css\">\n</head>\n<body>\n    <div class=\"container\">\n        <h1>課題を実装してください</h1>\n        <!-- ここに実装してください -->\n    </div>\n    \n    <script src=\"script.js\"></script>\n</body>\n</html>",
      "expected": "<!DOCTYPE html>\n<html lang=\"ja\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>科学計算機</title>\n    <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css\" rel=\"stylesheet\">\n    <link rel=\"stylesheet\" href=\"style.css\">\n</head>\n<body>\n    <div class=\"container mt-5\">\n        <div class=\"row justify-content-center\">\n            <div class=\"col-md-6\">\n                <div class=\"card\">\n                    <div class=\"card-header\">\n                        <h3 class=\"text-center mb-0\">科学計算機</h3>\n                    </div>\n                    <div class=\"card-body\">\n                        <div class=\"display mb-3\">\n                            <input type=\"text\" id=\"display\" class=\"form-control text-end\" readonly>\n                        </div>\n                        \n                        <!-- 科学関数ボタン -->  \n                        <div class=\"row mb-2\">\n                            <div class=\"col\"><button class=\"btn btn-secondary w-100\" onclick=\"calculate('sin')\">sin</button></div>\n                            <div class=\"col\"><button class=\"btn btn-secondary w-100\" onclick=\"calculate('cos')\">cos</button></div>\n                            <div class=\"col\"><button class=\"btn btn-secondary w-100\" onclick=\"calculate('tan')\">tan</button></div>\n                            <div class=\"col\"><button class=\"btn btn-secondary w-100\" onclick=\"calculate('log')\">log</button></div>\n                        </div>\n                        \n                        <div class=\"row mb-2\">\n                            <div class=\"col\"><button class=\"btn btn-secondary w-100\" onclick=\"calculate('ln')\">ln</button></div>\n                            <div class=\"col\"><button class=\"btn btn-secondary w-100\" onclick=\"calculate('sqrt')\">√</button></div>\n                            <div class=\"col\"><button class=\"btn btn-secondary w-100\" onclick=\"calculate('^')\">^</button></div>\n                            <div class=\"col\"><button class=\"btn btn-warning w-100\" onclick=\"clearDisplay()\">C</button></div>\n                        </div>\n                        \n                        <!-- 数字ボタン -->\n                        <div class=\"row mb-2\">\n                            <div class=\"col\"><button class=\"btn btn-outline-primary w-100\" onclick=\"appendToDisplay('7')\">7</button></div>\n                            <div class=\"col\"><button class=\"btn btn-outline-primary w-100\" onclick=\"appendToDisplay('8')\">8</button></div>\n                            <div class=\"col\"><button class=\"btn btn-outline-primary w-100\" onclick=\"appendToDisplay('9')\">9</button></div>\n                            <div class=\"col\"><button class=\"btn btn-info w-100\" onclick=\"appendToDisplay('/')\">/</button></div>\n                        </div>\n                        \n                        <div class=\"row mb-2\">\n                            <div class=\"col\"><button class=\"btn btn-outline-primary w-100\" onclick=\"appendToDisplay('4')\">4</button></div>\n                            <div class=\"col\"><button class=\"btn btn-outline-primary w-100\" onclick=\"appendToDisplay('5')\">5</button></div>\n                            <div class=\"col\"><button class=\"btn btn-outline-primary w-100\" onclick=\"appendToDisplay('6')\">6</button></div>\n                            <div class=\"col\"><button class=\"btn btn-info w-100\" onclick=\"appendToDisplay('*')\">×</button></div>\n                        </div>\n                        \n                        <div class=\"row mb-2\">\n                            <div class=\"col\"><button class=\"btn btn-outline-primary w-100\" onclick=\"appendToDisplay('1')\">1</button></div>\n                            <div class=\"col\"><button class=\"btn btn-outline-primary w-100\" onclick=\"appendToDisplay('2')\">2</button></div>\n                            <div class=\"col\"><button class=\"btn btn-outline-primary w-100\" onclick=\"appendToDisplay('3')\">3</button></div>\n                            <div class=\"col\"><button class=\"btn btn-info w-100\" onclick=\"appendToDisplay('-')\">-</button></div>\n                        </div>\n                        \n                        <div class=\"row mb-2\">\n                            <div class=\"col\"><button class=\"btn btn-outline-primary w-100\" onclick=\"appendToDisplay('0')\">0</button></div>\n                            <div class=\"col\"><button class=\"btn btn-outline-primary w-100\" onclick=\"appendToDisplay('.')\">.</button></div>\n                            <div class=\"col\"><button class=\"btn btn-success w-100\" onclick=\"calculate('=')\">＝</button></div>\n                            <div class=\"col\"><button class=\"btn btn-info w-100\" onclick=\"appendToDisplay('+')\">+</button></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    \n    <script src=\"script.js\"></script>\n</body>\n</html>"
    },
    "css": {
      "template": "/* 基本的なスタイル */\nbody {\n    font-family: Arial, sans-serif;\n    margin: 40px;\n    background: #f5f5f5;\n}\n\n.container {\n    max-width: 800px;\n    margin: 0 auto;\n    background: white;\n    padding: 20px;\n    border-radius: 10px;\n    box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n}\n\n/* ここに実装してください */",
      "expected": "/* 科学計算機のスタイル */\nbody {\n    font-family: 'Arial', sans-serif;\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n    min-height: 100vh;\n}\n\n.card {\n    border: none;\n    border-radius: 15px;\n    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);\n    background: rgba(255, 255, 255, 0.95);\n    backdrop-filter: blur(10px);\n}\n\n.card-header {\n    background: linear-gradient(135deg, #667eea, #764ba2);\n    color: white;\n    border-radius: 15px 15px 0 0 !important;\n    padding: 20px;\n}\n\n#display {\n    font-size: 24px;\n    font-weight: bold;\n    height: 60px;\n    background: #f8f9fa;\n    border: 2px solid #e9ecef;\n    border-radius: 10px;\n    text-align: right;\n    padding: 15px;\n}\n\n.btn {\n    height: 50px;\n    font-size: 16px;\n    font-weight: bold;\n    border-radius: 8px;\n    transition: all 0.3s ease;\n}\n\n.btn:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);\n}\n\n.btn-secondary {\n    background: linear-gradient(135deg, #6c757d, #5a6268);\n    border: none;\n}\n\n.btn-secondary:hover {\n    background: linear-gradient(135deg, #5a6268, #495057);\n}\n\n.btn-outline-primary {\n    border-color: #667eea;\n    color: #667eea;\n}\n\n.btn-outline-primary:hover {\n    background: linear-gradient(135deg, #667eea, #764ba2);\n    border-color: #667eea;\n    color: white;\n}\n\n.btn-success {\n    background: linear-gradient(135deg, #28a745, #20c997);\n    border: none;\n}\n\n.btn-success:hover {\n    background: linear-gradient(135deg, #20c997, #17a2b8);\n}\n\n.btn-info {\n    background: linear-gradient(135deg, #17a2b8, #20c997);\n    border: none;\n}\n\n.btn-warning {\n    background: linear-gradient(135deg, #ffc107, #fd7e14);\n    border: none;\n    color: white;\n}\n\n@media (max-width: 768px) {\n    .container {\n        margin-top: 20px;\n    }\n    \n    .btn {\n        height: 45px;\n        font-size: 14px;\n    }\n    \n    #display {\n        font-size: 20px;\n        height: 50px;\n    }\n}"
    },
    "js": {
      "template": "// JavaScript実装エリア\n\n// ここに実装してください\nconsole.log('課題実装を開始してください');",
      "expected": "// 科学計算機のJavaScript\n\nlet display = document.getElementById('display');\nlet currentInput = '';\nlet operator = '';\nlet previousInput = '';\n\n// 表示に文字を追加\nfunction appendToDisplay(value) {\n    if (display.value === '0' || display.value === 'Error') {\n        display.value = value;\n    } else {\n        display.value += value;\n    }\n}\n\n// 表示をクリア\nfunction clearDisplay() {\n    display.value = '0';\n    currentInput = '';\n    operator = '';\n    previousInput = '';\n}\n\n// 計算実行\nfunction calculate(operation) {\n    try {\n        const currentValue = parseFloat(display.value);\n        \n        switch(operation) {\n            case '=':\n                if (operator && previousInput !== '') {\n                    const result = performOperation(parseFloat(previousInput), currentValue, operator);\n                    display.value = result.toString();\n                    operator = '';\n                    previousInput = '';\n                }\n                break;\n                \n            case 'sin':\n                display.value = Math.sin(currentValue * Math.PI / 180).toFixed(8);\n                break;\n                \n            case 'cos':\n                display.value = Math.cos(currentValue * Math.PI / 180).toFixed(8);\n                break;\n                \n            case 'tan':\n                display.value = Math.tan(currentValue * Math.PI / 180).toFixed(8);\n                break;\n                \n            case 'log':\n                if (currentValue > 0) {\n                    display.value = Math.log10(currentValue).toFixed(8);\n                } else {\n                    display.value = 'Error';\n                }\n                break;\n                \n            case 'ln':\n                if (currentValue > 0) {\n                    display.value = Math.log(currentValue).toFixed(8);\n                } else {\n                    display.value = 'Error';\n                }\n                break;\n                \n            case 'sqrt':\n                if (currentValue >= 0) {\n                    display.value = Math.sqrt(currentValue).toFixed(8);\n                } else {\n                    display.value = 'Error';\n                }\n                break;\n                \n            case '^':\n                operator = '^';\n                previousInput = display.value;\n                display.value = '0';\n                break;\n                \n            default:\n                if (['+', '-', '*', '/'].includes(operation)) {\n                    operator = operation;\n                    previousInput = display.value;\n                    display.value = '0';\n                }\n                break;\n        }\n    } catch (error) {\n        display.value = 'Error';\n    }\n}\n\n// 基本的な四則演算\nfunction performOperation(num1, num2, op) {\n    switch(op) {\n        case '+':\n            return num1 + num2;\n        case '-':\n            return num1 - num2;\n        case '*':\n            return num1 * num2;\n        case '/':\n            return num2 !== 0 ? num1 / num2 : 'Error';\n        case '^':\n            return Math.pow(num1, num2);\n        default:\n            return num2;\n    }\n}\n\n// 初期化\ndocument.addEventListener('DOMContentLoaded', function() {\n    clearDisplay();\n    console.log('科学計算機が初期化されました');\n});\n\n// キーボード入力対応\ndocument.addEventListener('keydown', function(event) {\n    const key = event.key;\n    \n    if (key >= '0' && key <= '9' || key === '.') {\n        appendToDisplay(key);\n    } else if (['+', '-', '*', '/'].includes(key)) {\n        calculate(key);\n    } else if (key === 'Enter' || key === '=') {\n        calculate('=');\n    } else if (key === 'Escape' || key === 'c' || key === 'C') {\n        clearDisplay();\n    }\n});"
    }
  },
  "expectedResult": {
    "console": "科学計算機が初期化されました",
    "behavior": "三角関数、対数関数、平方根などの科学計算機能が動作する"
  },
  "checks": [
    {
      "id": "bootstrap-cdn",
      "name": "Bootstrap CDN",
      "type": "structure",
      "message": "Bootstrap CDNが正しく読み込まれている必要があります"
    },
    {
      "id": "scientific-functions",
      "name": "科学関数",
      "type": "js",
      "message": "sin, cos, tan, log, ln, sqrt機能が実装されている必要があります"
    },
    {
      "id": "calculator-ui",
      "name": "計算機UI",
      "type": "structure",
      "message": "Bootstrapを使った美しい計算機UIが必要です"
    },
    {
      "id": "keyboard-support",
      "name": "キーボード対応",
      "type": "js",
      "message": "キーボード入力に対応している必要があります"
    }
  ],
  "hints": [
    "Math.sin(), Math.cos(), Math.tan()は度からラジアンへの変換が必要です",
    "三角関数の結果は小数点以下を適切に丸めましょう",
    "エラーハンドリングを忘れずに実装してください"
  ]
}