{
  "id": "js-advanced-04",
  "title": "価格ソート（昇順/降順）",
  "description": "select の値に応じて配列を昇順/降順に並べ替え、DOMに表示します",
  "category": "javascript-advanced",
  "instructions": [
    "#sortSelect に change イベントを設定する",
    "破壊的操作の回避のため slice() でコピーする",
    "order が 'asc' の場合は a.price - b.price、'desc' の場合は b.price - a.price で sort",
    "#productList にカードを生成して textContent で表示する"
  ],
  "files": {
    "html": {
      "template": "<!DOCTYPE html>\n<html lang=\"ja\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n  <title>js-advanced-04 価格ソート（昇順/降順）</title>\n  <link rel=\"stylesheet\" href=\"style.css\" />\n</head>\n<body>\n  <div class=\"container\">\n    <h1>価格ソート</h1>\n\n    <div class=\"controls\">\n      <label for=\"sortSelect\">並び順</label>\n      <select id=\"sortSelect\">\n        <option value=\"asc\">価格の安い順</option>\n        <option value=\"desc\">価格の高い順</option>\n      </select>\n    </div>\n\n    <ul id=\"productList\" class=\"product-list\"></ul>\n  </div>\n\n  <script src=\"script.js\"></script>\n</body>\n</html>\n",
      "expected": "__INCLUDE__: problems/frontend/expected/js-advanced-04/files.html.expected"
    },
    "css": {
      "template": "body{font-family:system-ui,-apple-system,\"Segoe UI\",sans-serif;margin:16px}\n.container{max-width:800px;margin:auto}\n.controls{display:flex;gap:12px;align-items:center;flex-wrap:wrap;margin:12px 0}\n#sortSelect{padding:8px 10px;border:1px solid #ccc;border-radius:6px}\n.product-list{list-style:none;padding:0;margin:16px 0;display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px}\n.product-card{border:1px solid #e5e7eb;border-radius:8px;padding:12px}\n.product-name{font-weight:600}\n.product-price{color:#0a7;}\n",
      "expected": "__INCLUDE__: problems/frontend/expected/js-advanced-04/files.css.expected"
    },
    "js": {
      "template": "// 商品データ（最小サンプル）\nconst products = [\n  { id: 1, name: 'Pro Camera', price: 49800 },\n  { id: 2, name: 'Light Stand', price: 3200 },\n  { id: 3, name: 'Mini Tripod', price: 1800 },\n  { id: 4, name: 'Pro Light', price: 9800 },\n  { id: 5, name: 'Simple Bag', price: 2500 }\n];\n\nconst $select = document.getElementById('sortSelect');\nconst $list = document.getElementById('productList');\n\nfunction render(list) {\n  $list.innerHTML = '';\n  list.forEach(p => {\n    const li = document.createElement('li');\n    li.className = 'product-card';\n\n    const name = document.createElement('div');\n    name.className = 'product-name';\n    name.textContent = p.name;\n\n    const price = document.createElement('div');\n    price.className = 'product-price';\n    price.textContent = `¥${p.price.toLocaleString()}`;\n\n    li.appendChild(name);\n    li.appendChild(price);\n    $list.appendChild(li);\n  });\n}\n\nfunction sortProducts(order) {\n  const arr = products.slice();\n  arr.sort((a, b) => order === 'asc' ? a.price - b.price : b.price - a.price);\n  return arr;\n}\n\n$select.addEventListener('change', () => {\n  render(sortProducts($select.value));\n});\n\n// 初期表示\nrender(sortProducts($select.value || 'asc'));\n",
      "expected": "__INCLUDE__: problems/frontend/expected/js-advanced-04/files.js.expected"
    }
  },
  "expectedResult": {
    "behavior": "select の変更で並び順が変わり、価格表示順が昇順/降順に切り替わる"
  },
  "checks": [
    { "id": "doctype", "name": "DOCTYPE宣言", "type": "structure", "message": "DOCTYPE html宣言が必要です" },
    { "id": "html", "name": "<html>タグ", "type": "structure", "message": "<html>タグが必要です" },
    { "id": "head", "name": "<head>セクション", "type": "structure", "message": "<head>セクションが必要です" },
    { "id": "body", "name": "<body>セクション", "type": "structure", "message": "<body>セクションが必要です" },
    { "id": "title", "name": "<title>タグ", "type": "structure", "message": "<title>タグと内容が必要です" },
    { "id": "css-content", "name": "CSSスタイル", "type": "css", "message": "CSSでスタイルを設定してください" },
    { "id": "js-content", "name": "JavaScript", "type": "js", "message": "JavaScriptで動的な動作を実装してください" }
  ]
}
